<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>stompjs@7.2.0, rx-stomp@2.0.1</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
        <link rel="stylesheet" href="../styles/vagrant.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">stompjs@7.2.0, rx-stomp@2.0.1</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Classes</li>
  <li >Client</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>consolidated/stompjs/src/client.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>STOMP Client Class.</p>
<p>Part of <code>@stomp/stompjs</code>.</p>
<p>This class provides a robust implementation for connecting to and interacting with a
STOMP-compliant messaging broker over WebSocket. It supports STOMP versions 1.2, 1.1, and 1.0.</p>
<p>Features:</p>
<ul>
<li>Handles automatic reconnections.</li>
<li>Supports heartbeat mechanisms to detect and report communication failures.</li>
<li>Allows customization of connection and WebSocket behaviors through configurations.</li>
<li>Compatible with both browser environments and Node.js with polyfill support for WebSocket.</li>
</ul>

            </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#appendMissingNULLonIncoming" >appendMissingNULLonIncoming</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#beforeConnect" >beforeConnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#brokerURL" >brokerURL</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#connectHeaders" >connectHeaders</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#connectionTimeout" >connectionTimeout</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#debug" >debug</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#discardWebsocketOnCommFailure" >discardWebsocketOnCommFailure</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#forceBinaryWSFrames" >forceBinaryWSFrames</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#heartbeatIncoming" >heartbeatIncoming</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#heartbeatOutgoing" >heartbeatOutgoing</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#heartbeatStrategy" >heartbeatStrategy</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#heartbeatToleranceMultiplier" >heartbeatToleranceMultiplier</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#logRawCommunication" >logRawCommunication</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#maxReconnectDelay" >maxReconnectDelay</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#maxWebSocketChunkSize" >maxWebSocketChunkSize</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onChangeState" >onChangeState</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onConnect" >onConnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onDisconnect" >onDisconnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onHeartbeatLost" >onHeartbeatLost</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onHeartbeatReceived" >onHeartbeatReceived</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onStompError" >onStompError</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledFrame" >onUnhandledFrame</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledMessage" >onUnhandledMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledReceipt" >onUnhandledReceipt</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onWebSocketClose" >onWebSocketClose</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onWebSocketError" >onWebSocketError</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#reconnectDelay" >reconnectDelay</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#reconnectTimeMode" >reconnectTimeMode</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#splitLargeFrames" >splitLargeFrames</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#state" >state</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#stompVersions" >stompVersions</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#webSocketFactory" >webSocketFactory</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#abort" >abort</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#ack" >ack</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#activate" >activate</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#begin" >begin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#commit" >commit</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#configure" >configure</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Async</span>
                                <a href="#deactivate" >deactivate</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#forceDisconnect" >forceDisconnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#nack" >nack</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#publish" >publish</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#subscribe" >subscribe</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#unsubscribe" >unsubscribe</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#watchForReceipt" >watchForReceipt</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#webSocket" >webSocket</a>
                                </li>
                                <li>
                                    <a href="#disconnectHeaders" >disconnectHeaders</a>
                                </li>
                                <li>
                                    <a href="#connected" >connected</a>
                                </li>
                                <li>
                                    <a href="#connectedVersion" >connectedVersion</a>
                                </li>
                                <li>
                                    <a href="#active" >active</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(conf: <a href="../classes/StompConfig.html" target="_self">StompConfig</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="666" class="link-to-prism">consolidated/stompjs/src/client.ts:666</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructs a new STOMP client instance.</p>
<p>The constructor initializes default values and sets up no-op callbacks for all events.
Configuration can be passed during construction, or updated later using <code>configure</code>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const client = new Client({
  brokerURL: &#39;wss://broker.example.com&#39;,
  reconnectDelay: 5000
});</code></pre></div></div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>conf</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/StompConfig.html" target="_self" >StompConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Optional configuration object to initialize the client with.</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="appendMissingNULLonIncoming"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>appendMissingNULLonIncoming</b></span>
                        <a href="#appendMissingNULLonIncoming"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="269" class="link-to-prism">consolidated/stompjs/src/client.ts:269</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Workaround for a React Native WebSocket bug, where messages containing <code>NULL</code> are chopped.</p>
<p>Enabling this appends a <code>NULL</code> character to incoming frames to ensure they remain valid STOMP packets.</p>
<p>Warning:</p>
<ul>
<li>For brokers that split large messages, this may cause data loss or connection termination.</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.appendMissingNULLonIncoming = true;</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="beforeConnect"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>beforeConnect</b></span>
                        <a href="#beforeConnect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="460" class="link-to-prism">consolidated/stompjs/src/client.ts:460</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback executed before initiating a connection to the STOMP broker.</p>
<p>This callback allows users to modify connection options dynamically,
such as updating credentials or connection parameters, before the connection is made.</p>
<p>As of version 5.1, this callback supports <code>async/await</code>, enabling seamless integration
with asynchronous operations, such as fetching tokens or credentials.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.beforeConnect = async () =&gt; {
  const token = await fetchToken();
  client.connectHeaders = { Authorization: `Bearer ${token}` };
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="brokerURL"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>brokerURL</b></span>
                        <a href="#brokerURL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">consolidated/stompjs/src/client.ts:56</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The URL for the STOMP broker to connect to.
Example: <code>&quot;ws://broker.domain.com:15674/ws&quot;</code> or <code>&quot;wss://broker.domain.com:15674/ws&quot;</code>.</p>
<p>Use this property to define the broker&#39;s WebSocket endpoint.
Note:</p>
<ul>
<li>Only one of <code>brokerURL</code> or <a href="../classes/Client.html#webSocketFactory">Client#webSocketFactory</a> needs to be set.</li>
<li>If both are provided, <a href="../classes/Client.html#webSocketFactory">Client#webSocketFactory</a> takes precedence.</li>
<li>When targeting environments without native WebSocket support, refer to
<a href="https://stomp-js.github.io/guide/stompjs/rx-stomp/ng2-stompjs/pollyfils-for-stompjs-v5.html">Polyfills</a>.</li>
</ul>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connectHeaders"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>connectHeaders</b></span>
                        <a href="#connectHeaders"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="312" class="link-to-prism">consolidated/stompjs/src/client.ts:312</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Connection headers to be sent during the connection handshake.</p>
<p>Keys like <code>login</code>, <code>passcode</code>, and <code>host</code> are commonly expected for most brokers.
Although STOMP 1.2 specifies these keys as mandatory, consult your broker&#39;s documentation
for additional requirements or alternative header usage.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.connectHeaders = {
  login: &#39;my-username&#39;,
  passcode: &#39;my-password&#39;,
  host: &#39;my-vhost&#39;
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connectionTimeout"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>connectionTimeout</b></span>
                        <a href="#connectionTimeout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="107" class="link-to-prism">consolidated/stompjs/src/client.ts:107</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Timeout for establishing STOMP connection, in milliseconds.</p>
<p>If the connection is not established within this period, the attempt will fail.
The default is <code>0</code>, meaning no timeout is set for connection attempts.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.connectionTimeout = 5000; // Fail connection if not established in 5 seconds</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="debug"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>debug</b></span>
                        <a href="#debug"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#debugFnType" target="_self" >debugFnType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="574" class="link-to-prism">consolidated/stompjs/src/client.ts:574</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Set a custom debug function to capture debug messages.</p>
<p>By default, debug messages are discarded. To log messages to the console, you can use:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.debug = (str) =&gt; {
  console.log(str);
};</code></pre></div><p><strong>Note</strong>: This method does not support configurable log levels, and the output can be
verbose. Be cautious as debug messages may contain sensitive information, such as
credentials or tokens.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="discardWebsocketOnCommFailure"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>discardWebsocketOnCommFailure</b></span>
                        <a href="#discardWebsocketOnCommFailure"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="591" class="link-to-prism">consolidated/stompjs/src/client.ts:591</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Instruct the library to immediately terminate the socket on communication failures, even
before the WebSocket is completely closed.</p>
<p>This is particularly useful in browser environments where WebSocket closure may get delayed,
causing prolonged reconnection intervals under certain failure conditions.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.discardWebsocketOnCommFailure = true; // Enable aggressive closing of WebSocket</code></pre></div><p>Default value: <code>false</code>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="forceBinaryWSFrames"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>forceBinaryWSFrames</b></span>
                        <a href="#forceBinaryWSFrames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="254" class="link-to-prism">consolidated/stompjs/src/client.ts:254</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Forces all WebSocket frames to use binary transport, irrespective of payload type.</p>
<p>Default behavior determines frame type based on payload (e.g., binary data for ArrayBuffers).</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.forceBinaryWSFrames = true;</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="heartbeatIncoming"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>heartbeatIncoming</b></span>
                        <a href="#heartbeatIncoming"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>10000</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="171" class="link-to-prism">consolidated/stompjs/src/client.ts:171</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Interval (in milliseconds) for receiving heartbeat signals from the server.</p>
<p>Specifies the expected frequency of heartbeats sent by the server. Set to <code>0</code> to disable.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.heartbeatIncoming = 10000; // Expect a heartbeat every 10 seconds</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="heartbeatOutgoing"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>heartbeatOutgoing</b></span>
                        <a href="#heartbeatOutgoing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>10000</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="199" class="link-to-prism">consolidated/stompjs/src/client.ts:199</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Interval (in milliseconds) for sending heartbeat signals to the server.</p>
<p>Specifies how frequently heartbeats should be sent to the server. Set to <code>0</code> to disable.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.heartbeatOutgoing = 5000; // Send a heartbeat every 5 seconds</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="heartbeatStrategy"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>heartbeatStrategy</b></span>
                        <a href="#heartbeatStrategy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Ticker.html" target="_self" >TickerStrategy</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>TickerStrategy.Interval</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="217" class="link-to-prism">consolidated/stompjs/src/client.ts:217</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Strategy for sending outgoing heartbeats.</p>
<p>Options:</p>
<ul>
<li><code>TickerStrategy.Worker</code>: Uses Web Workers for sending heartbeats (recommended for long-running or background sessions).</li>
<li><code>TickerStrategy.Interval</code>: Uses standard JavaScript <code>setInterval</code> (default).</li>
</ul>
<p>Note:</p>
<ul>
<li>If Web Workers are unavailable (e.g., in Node.js), the <code>Interval</code> strategy is used automatically.</li>
<li>Web Workers are preferable in browsers for reducing disconnects when tabs are in the background.</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.heartbeatStrategy = TickerStrategy.Worker;</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="heartbeatToleranceMultiplier"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>heartbeatToleranceMultiplier</b></span>
                        <a href="#heartbeatToleranceMultiplier"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>2</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="187" class="link-to-prism">consolidated/stompjs/src/client.ts:187</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Multiplier for adjusting tolerance when processing heartbeat signals.</p>
<p>Tolerance level is calculated using the multiplier:
<code>tolerance = heartbeatIncoming * heartbeatToleranceMultiplier</code>.
This helps account for delays in network communication or variations in timings.</p>
<p>Default value is <code>2</code>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.heartbeatToleranceMultiplier = 2.5; // Tolerates longer delays</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logRawCommunication"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>logRawCommunication</b></span>
                        <a href="#logRawCommunication"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="558" class="link-to-prism">consolidated/stompjs/src/client.ts:558</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Enable or disable logging of the raw communication with the broker.</p>
<p>When enabled, it logs the raw frames exchanged with the broker. If disabled,
only the headers of the parsed frames will be logged.</p>
<p><strong>Caution</strong>: Raw communication frames must contain valid UTF-8 strings,
as any non-compliant data can cause errors in the logging process.</p>
<p>Changes to this setting will take effect during the next broker reconnect.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.logRawCommunication = true; // Enable logging raw communication</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="maxReconnectDelay"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>maxReconnectDelay</b></span>
                        <a href="#maxReconnectDelay"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>15 * 60 * 1000</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="143" class="link-to-prism">consolidated/stompjs/src/client.ts:143</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Maximum delay (in milliseconds) between reconnection attempts when using exponential backoff.</p>
<p>Default is 15 minutes (<code>15 * 60 * 1000</code> milliseconds). If <code>0</code>, there will be no upper limit.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.maxReconnectDelay = 10000; // Maximum wait time is 10 seconds</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="maxWebSocketChunkSize"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>maxWebSocketChunkSize</b></span>
                        <a href="#maxWebSocketChunkSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>8 * 1024</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="242" class="link-to-prism">consolidated/stompjs/src/client.ts:242</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Maximum size (in bytes) for individual WebSocket chunks if <a href="../classes/Client.html#splitLargeFrames">splitLargeFrames</a> is enabled.</p>
<p>Default is 8 KB (<code>8 * 1024</code> bytes). This value has no effect if <a href="../classes/Client.html#splitLargeFrames">splitLargeFrames</a> is <code>false</code>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onChangeState"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onChangeState</b></span>
                        <a href="#onChangeState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="646" class="link-to-prism">consolidated/stompjs/src/client.ts:646</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback invoked whenever the client&#39;s state changes.</p>
<p>This callback can be used to monitor transitions between various states, such as <code>ACTIVE</code>,
<code>INACTIVE</code>, or <code>DEACTIVATING</code>. Note that in some scenarios, the client may transition
directly from <code>ACTIVE</code> to <code>INACTIVE</code> without entering the <code>DEACTIVATING</code> state.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onChangeState = (state) =&gt; {
  console.log(`Client state changed to: ${state}`);
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onConnect"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onConnect</b></span>
                        <a href="#onConnect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="476" class="link-to-prism">consolidated/stompjs/src/client.ts:476</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback executed upon every successful connection to the STOMP broker.</p>
<p>This callback is invoked after the connection is established and the CONNECTED frame
is received from the broker. It provides access to the broker&#39;s response frame,
allowing users to parse its headers or other data.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onConnect = (frame) =&gt; {
  console.log(&#39;Connected to broker, session ID:&#39;, frame.headers[&#39;session&#39;]);
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDisconnect"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onDisconnect</b></span>
                        <a href="#onDisconnect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="493" class="link-to-prism">consolidated/stompjs/src/client.ts:493</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback executed upon successful disconnection from the STOMP broker.</p>
<p>The callback is invoked when the DISCONNECT receipt is received from the broker.
Note that due to the design of the STOMP protocol or communication interrupts, the
DISCONNECT receipt may not always be received. For handling such cases, use
<a href="../classes/Client.html#onWebSocketClose">Client#onWebSocketClose</a>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onDisconnect = (frame) =&gt; {
  console.log(&#39;Disconnected successfully&#39;);
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onHeartbeatLost"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onHeartbeatLost</b></span>
                        <a href="#onHeartbeatLost"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#emptyCallbackType" target="_self" >emptyCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="423" class="link-to-prism">consolidated/stompjs/src/client.ts:423</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback invoked when no heartbeat is received from the broker within
the acceptable interval, indicating a potential communication issue or connection failure.</p>
<p>This callback is triggered when the heartbeat interval defined by <code>heartbeatIncoming</code>
elapses without a received heartbeat.</p>
<p><strong>Note</strong>: The library handles this condition internally and takes appropriate
actions, such as marking the connection as failed. This callback is available
for implementing custom recovery strategies or additional notifications.</p>
<p>Usage:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onHeartbeatLost = () =&gt; {
  console.error(&#39;Lost connection to the broker&#39;);
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onHeartbeatReceived"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onHeartbeatReceived</b></span>
                        <a href="#onHeartbeatReceived"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#emptyCallbackType" target="_self" >emptyCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="403" class="link-to-prism">consolidated/stompjs/src/client.ts:403</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback invoked when a heartbeat message is received from the STOMP broker.</p>
<p>Heartbeats ensure that the connection remains active and responsive. This callback
is executed on every received heartbeat. It is useful for monitoring connection health
or logging heartbeat activity.</p>
<p><strong>Note</strong>: The library handles heartbeats internally to maintain and verify connection status.
Implementing this callback is optional and primarily for custom monitoring or debugging.</p>
<p>Usage:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onHeartbeatReceived = () =&gt; {
  console.log(&#39;Heartbeat received&#39;);
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onStompError"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onStompError</b></span>
                        <a href="#onStompError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="509" class="link-to-prism">consolidated/stompjs/src/client.ts:509</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback executed when an ERROR frame is received from the STOMP broker.</p>
<p>Receiving an ERROR frame typically indicates a problem with the subscription,
message format, or protocol violation. The broker will usually close the connection
after sending an ERROR frame.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onStompError = (frame) =&gt; {
  console.error(&#39;Broker reported an error:&#39;, frame.body);
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onUnhandledFrame"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onUnhandledFrame</b></span>
                        <a href="#onUnhandledFrame"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="384" class="link-to-prism">consolidated/stompjs/src/client.ts:384</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback invoked when a frame of an unknown or unexpected type is received
from the broker.</p>
<p>This is intended as a fallback for handling unexpected or unsupported frames
sent by the broker.</p>
<p>Usage:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onUnhandledFrame = (frame) =&gt; {
  console.warn(&#39;Unhandled frame received:&#39;, frame);
};</code></pre></div></div>
                </td>
            </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">
                                <b>Parameters :</b>
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                            <tr>
                                                    <td>frame</td>
                                                    <td>
                                                            <code><p>The actual {@link IFrame} received from the broker.</p>
</code>
                                                    </td>
                                            </tr>
                                    </tbody>
                                </table>
                        </div>
                    </td>
                </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onUnhandledMessage"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onUnhandledMessage</b></span>
                        <a href="#onUnhandledMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#messageCallbackType" target="_self" >messageCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="354" class="link-to-prism">consolidated/stompjs/src/client.ts:354</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback invoked for any unhandled messages received from the broker.</p>
<p>This is particularly useful for handling messages sent to RabbitMQ temporary queues
or other queues where no explicit subscription exists. It can also be triggered
by stray messages received while a subscription is being unsubscribed.</p>
<p>Usage:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onUnhandledMessage = (message) =&gt; {
  console.log(&#39;Unhandled message:&#39;, message);
};</code></pre></div></div>
                </td>
            </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">
                                <b>Parameters :</b>
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                            <tr>
                                                    <td>message</td>
                                                    <td>
                                                            <code><p>The actual {@link IMessage} received.</p>
</code>
                                                    </td>
                                            </tr>
                                    </tbody>
                                </table>
                        </div>
                    </td>
                </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onUnhandledReceipt"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onUnhandledReceipt</b></span>
                        <a href="#onUnhandledReceipt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="366" class="link-to-prism">consolidated/stompjs/src/client.ts:366</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback invoked when the broker sends a receipt indicating the completion
of an operation. Receipts are typically requested using the
<a href="../classes/Client.html#watchForReceipt">Client#watchForReceipt</a> function.</p>
<p>Usage Example:
See <a href="../classes/Client.html#watchForReceipt">Client#watchForReceipt</a>.</p>
</div>
                </td>
            </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">
                                <b>Parameters :</b>
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                            <tr>
                                                    <td>frame</td>
                                                    <td>
                                                            <code><p>The actual {@link IFrame} received from the broker.</p>
</code>
                                                    </td>
                                            </tr>
                                    </tbody>
                                </table>
                        </div>
                    </td>
                </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onWebSocketClose"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onWebSocketClose</b></span>
                        <a href="#onWebSocketClose"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#closeEventCallbackType" target="_self" >closeEventCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="525" class="link-to-prism">consolidated/stompjs/src/client.ts:525</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback executed when the underlying WebSocket is closed.</p>
<p>This can occur due to various reasons, such as network interruptions or broker shutdown.
The callback provides the WebSocket <a href="https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent">CloseEvent</a>,
which contains details about the closure.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onWebSocketClose = (event) =&gt; {
  console.log(&#39;WebSocket closed. Code:&#39;, event.code);
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onWebSocketError"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>onWebSocketError</b></span>
                        <a href="#onWebSocketError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#wsErrorCallbackType" target="_self" >wsErrorCallbackType</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="540" class="link-to-prism">consolidated/stompjs/src/client.ts:540</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Callback executed when the underlying WebSocket raises an error.</p>
<p>This callback provides an <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event</a>
representing the error raised by the WebSocket.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.onWebSocketError = (event) =&gt; {
  console.error(&#39;WebSocket error:&#39;, event);
};</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reconnectDelay"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>reconnectDelay</b></span>
                        <a href="#reconnectDelay"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>5000</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="124" class="link-to-prism">consolidated/stompjs/src/client.ts:124</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Delay (in milliseconds) between reconnection attempts if the connection drops.</p>
<p>Set to <code>0</code> to disable automatic reconnections. The default value is <code>5000</code> ms (5 seconds).</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.reconnectDelay = 3000; // Attempt reconnection every 3 seconds
client.reconnectDelay = 0; // Disable automatic reconnection</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reconnectTimeMode"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>reconnectTimeMode</b></span>
                        <a href="#reconnectTimeMode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/enumerations.html#ReconnectionTimeMode" target="_self" >ReconnectionTimeMode</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>ReconnectionTimeMode.LINEAR</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="159" class="link-to-prism">consolidated/stompjs/src/client.ts:159</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Mode for determining the time interval between reconnection attempts.</p>
<p>Available modes:</p>
<ul>
<li><code>ReconnectionTimeMode.LINEAR</code> (default): Fixed delays between reconnection attempts.</li>
<li><code>ReconnectionTimeMode.EXPONENTIAL</code>: Delay doubles after each attempt, capped by <a href="../classes/Client.html#maxReconnectDelay">maxReconnectDelay</a>.</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.reconnectTimeMode = ReconnectionTimeMode.EXPONENTIAL;
client.reconnectDelay = 200; // Initial delay of 200 ms, doubles with each attempt
client.maxReconnectDelay = 2 * 60 * 1000; // Cap delay at 10 minutes</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="splitLargeFrames"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>splitLargeFrames</b></span>
                        <a href="#splitLargeFrames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="235" class="link-to-prism">consolidated/stompjs/src/client.ts:235</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Enables splitting of large text WebSocket frames into smaller chunks.</p>
<p>This setting is enabled for brokers that support only chunked messages (e.g., Java Spring-based brokers).
Default is <code>false</code>.</p>
<p>Warning:</p>
<ul>
<li>Should not be used with WebSocket-compliant brokers, as chunking may cause large message failures.</li>
<li>Binary WebSocket frames are never split.</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.splitLargeFrames = true;
client.maxWebSocketChunkSize = 4096; // Allow chunks of 4 KB</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="state"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>state</b></span>
                        <a href="#state"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/enumerations.html#ActivationState" target="_self" >ActivationState</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>ActivationState.INACTIVE</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="664" class="link-to-prism">consolidated/stompjs/src/client.ts:664</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Current activation state of the client.</p>
<p>Possible states:</p>
<ul>
<li><code>ActivationState.ACTIVE</code>: Client is connected or actively attempting to connect.</li>
<li><code>ActivationState.INACTIVE</code>: Client is disconnected and not attempting to reconnect.</li>
<li><code>ActivationState.DEACTIVATING</code>: Client is in the process of disconnecting.</li>
</ul>
<p>Note: The client may transition directly from <code>ACTIVE</code> to <code>INACTIVE</code> without entering
the <code>DEACTIVATING</code> state.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stompVersions"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>stompVersions</b></span>
                        <a href="#stompVersions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>Versions.default</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">consolidated/stompjs/src/client.ts:68</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>STOMP protocol versions to use during the handshake. By default, the client will attempt
versions <code>1.2</code>, <code>1.1</code>, and <code>1.0</code> in descending order of preference.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">// Configure the client to only use versions 1.1 and 1.0
client.stompVersions = new Versions([&#39;1.1&#39;, &#39;1.0&#39;]);</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="webSocketFactory"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>webSocketFactory</b></span>
                        <a href="#webSocketFactory"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code> | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="94" class="link-to-prism">consolidated/stompjs/src/client.ts:94</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>A function that returns a WebSocket or a similar object (e.g., SockJS) to establish connections.</p>
<p>This is an alternative to <a href="../classes/Client.html#brokerURL">Client#brokerURL</a>.
Using this allows finer control over WebSocket creation, especially for custom wrappers
or when working in non-standard environments.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.webSocketFactory = function () {
  return new WebSocket(&quot;ws://my-custom-websocket-endpoint&quot;);
};

// Typical usage with SockJS
client.webSocketFactory= function () {
  return new SockJS(&quot;http://broker.329broker.com/stomp&quot;);
};</code></pre></div><p>Note:</p>
<ul>
<li>If both <a href="../classes/Client.html#brokerURL">Client#brokerURL</a> and this property are set, the factory will be used.</li>
<li>Refer to <a href="https://stomp-js.github.io/guide/stompjs/rx-stomp/ng2-stompjs/pollyfils-for-stompjs-v5.html">Polyfills Guide</a>
when running in environments without native WebSocket support.</li>
</ul>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="abort"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>abort</b></span>
                        <a href="#abort"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>abort(transactionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1253"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1253</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Aborts a transaction.</p>
<p>It is strongly recommended to call <a href="../interfaces/ITransaction.html#abort">abort</a> directly
on the transaction object returned by <a href="../classes/Client.html#begin">client#begin</a>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const tx = client.begin();
// Perform operations under this transaction
tx.abort(); // Abort the transaction</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>transactionId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The ID of the transaction to abort.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ack"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>ack</b></span>
                        <a href="#ack"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>ack(messageId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, subscriptionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html" target="_self">StompHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1278"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1278</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Acknowledges receipt of a message. Typically, this should be done by calling
<a href="../interfaces/IMessage.html#ack">ack</a> directly on the <a href="../interfaces/IMessage.html">IMessage</a> instance passed
to the subscription callback.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const callback = (message) =&gt; {
  // Process the message
  message.ack(); // Acknowledge the message
};

client.subscribe(&quot;/queue/example&quot;, callback, { ack: &quot;client&quot; });</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>messageId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>The ID of the message to acknowledge.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>subscriptionId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>The ID of the subscription.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                    <td>
                                        <p>Optional headers for the acknowledgment frame.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="activate"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>activate</b></span>
                        <a href="#activate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>activate()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="761"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:761</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Activates the client, initiating a connection to the STOMP broker.</p>
<p>On activation, the client attempts to connect and sets its state to <code>ACTIVE</code>. If the connection
is lost, it will automatically retry based on <code>reconnectDelay</code> or <code>maxReconnectDelay</code>. If
<code>reconnectTimeMode</code> is set to <code>EXPONENTIAL</code>, the reconnect delay increases exponentially.</p>
<p>To stop reconnection attempts and disconnect, call <a href="../classes/Client.html#deactivate">Client#deactivate</a>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.activate(); // Connect to the broker</code></pre></div><p>If the client is currently <code>DEACTIVATING</code>, connection is delayed until the deactivation process completes.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="begin"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>begin</b></span>
                        <a href="#begin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>begin(transactionId?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1211"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1211</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Starts a new transaction. The returned <a href="../interfaces/ITransaction.html">ITransaction</a> object provides
methods for <a href="../interfaces/ITransaction.html#commit">commit</a> and <a href="../interfaces/ITransaction.html#abort">abort</a>.</p>
<p>If <code>transactionId</code> is not provided, the library generates a unique ID internally.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const tx = client.begin(); // Auto-generated ID

// Or explicitly specify a transaction ID
const tx = client.begin(&quot;my-transaction-id&quot;);</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>transactionId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>Optional transaction ID.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/ITransaction.html" target="_self" >ITransaction</a></code>

                    </div>
                    <div class="io-description">
                        <p>An instance of {@link ITransaction}.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="commit"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>commit</b></span>
                        <a href="#commit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>commit(transactionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1232"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1232</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Commits a transaction.</p>
<p>It is strongly recommended to call <a href="../interfaces/ITransaction.html#commit">commit</a> on
the transaction object returned by <a href="../classes/Client.html#begin">client#begin</a>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const tx = client.begin();
// Perform operations under this transaction
tx.commit();</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>transactionId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The ID of the transaction to commit.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="configure"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>configure</b></span>
                        <a href="#configure"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>configure(conf: <a href="../classes/StompConfig.html" target="_self">StompConfig</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="729"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:729</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Updates the client&#39;s configuration.</p>
<p>All properties in the provided configuration object will override the current settings.</p>
<p>Additionally, a warning is logged if <code>maxReconnectDelay</code> is configured to a
value lower than <code>reconnectDelay</code>, and <code>maxReconnectDelay</code> is adjusted to match <code>reconnectDelay</code>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.configure({
  reconnectDelay: 3000,
  maxReconnectDelay: 10000
});</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>conf</td>
                                    <td>
                                                <code><a href="../classes/StompConfig.html" target="_self" >StompConfig</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Configuration object containing the new settings.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deactivate"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span class="modifier">Async</span>
                        <span ><b>deactivate</b></span>
                        <a href="#deactivate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deactivate(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="976"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:976</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Disconnects the client and stops the automatic reconnection loop.</p>
<p>If there is an active STOMP connection at the time of invocation, the appropriate callbacks
will be triggered during the shutdown sequence. Once deactivated, the client will enter the
<code>INACTIVE</code> state, and no further reconnection attempts will be made.</p>
<p><strong>Behavior</strong>:</p>
<ul>
<li>If there is no active WebSocket connection, this method resolves immediately.</li>
<li>If there is an active connection, the method waits for the underlying WebSocket
to properly close before resolving.</li>
<li>Multiple calls to this method are safe. Each invocation resolves upon completion.</li>
<li>To reactivate, call <a href="../classes/Client.html#activate">Client#activate</a>.</li>
</ul>
<p><strong>Experimental Option:</strong></p>
<ul>
<li>By specifying the <code>force: true</code> option, the WebSocket connection is discarded immediately,
bypassing both the STOMP and WebSocket shutdown sequences.</li>
<li><strong>Caution:</strong> Using <code>force: true</code> may leave the WebSocket in an inconsistent state,
and brokers may not immediately detect the termination.</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">// Graceful disconnect
await client.deactivate();

// Forced disconnect to speed up shutdown when the connection is stale
await client.deactivate({ force: true });</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                    <td>
                                        <p>Configuration options for deactivation. Use <code>force: true</code> for immediate shutdown.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>A Promise that resolves when the deactivation process completes.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="forceDisconnect"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>forceDisconnect</b></span>
                        <a href="#forceDisconnect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>forceDisconnect()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1040"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1040</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Forces a disconnect by directly closing the WebSocket.</p>
<p>Unlike a normal disconnect, this does not send a DISCONNECT sequence to the broker but
instead closes the WebSocket connection directly. After forcing a disconnect, the client
will automatically attempt to reconnect based on its <code>reconnectDelay</code> configuration.</p>
<p><strong>Note:</strong> To prevent further reconnect attempts, call <a href="../classes/Client.html#deactivate">Client#deactivate</a>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.forceDisconnect();</code></pre></div></div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="nack"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>nack</b></span>
                        <a href="#nack"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>nack(messageId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, subscriptionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html" target="_self">StompHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1309"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1309</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Rejects a message (negative acknowledgment). Like acknowledgments, this should
typically be done by calling <a href="../interfaces/IMessage.html#nack">nack</a> directly on the <a href="../interfaces/IMessage.html">IMessage</a>
instance passed to the subscription callback.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const callback = (message) =&gt; {
  // Process the message
  if (isError(message)) {
    message.nack(); // Reject the message
  }
};

client.subscribe(&quot;/queue/example&quot;, callback, { ack: &quot;client&quot; });</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>messageId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>The ID of the message to negatively acknowledge.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>subscriptionId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>The ID of the subscription.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                    <td>
                                        <p>Optional headers for the NACK frame.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="publish"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>publish</b></span>
                        <a href="#publish"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>publish(params: <a href="../interfaces/IPublishParams.html" target="_self">IPublishParams</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1088"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1088</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Sends a message to the specified destination on the STOMP broker.</p>
<p>The <code>body</code> must be a <code>string</code>. For non-string payloads (e.g., JSON), encode it as a string before sending.
If sending binary data, use the <code>binaryBody</code> parameter as a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>.</p>
<p><strong>Content-Length Behavior</strong>:</p>
<ul>
<li>For non-binary messages, the <code>content-length</code> header is added by default.</li>
<li>The <code>content-length</code> header can be skipped for text frames by setting <code>skipContentLengthHeader: true</code> in the parameters.</li>
<li>For binary messages, the <code>content-length</code> header is always included.</li>
</ul>
<p><strong>Notes</strong>:</p>
<ul>
<li>Ensure that brokers support binary frames before using <code>binaryBody</code>.</li>
<li>Sending messages with NULL octets and missing <code>content-length</code> headers can cause brokers to disconnect and throw errors.</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">// Basic text message
client.publish({ destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot; });

// Text message with additional headers
client.publish({ destination: &quot;/queue/test&quot;, headers: { priority: 9 }, body: &quot;Hello, STOMP&quot; });

// Skip content-length header
client.publish({ destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot;, skipContentLengthHeader: true });

// Binary message
const binaryData = new Uint8Array([1, 2, 3, 4]);
client.publish({
  destination: &#39;/topic/special&#39;,
  binaryBody: binaryData,
  headers: { &#39;content-type&#39;: &#39;application/octet-stream&#39; }
});</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="../interfaces/IPublishParams.html" target="_self" >IPublishParams</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subscribe"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>subscribe</b></span>
                        <a href="#subscribe"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>subscribe(destination: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callback: <a href="../undefineds/messageCallbackType.html" target="_self">messageCallbackType</a>, headers: <a href="../classes/StompHeaders.html" target="_self">StompHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1158"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1158</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribes to a destination on the STOMP broker.</p>
<p>The callback is triggered for each message received from the subscribed destination. The message
is passed as an <a href="../interfaces/IMessage.html">IMessage</a> instance.</p>
<p><strong>Subscription ID</strong>:</p>
<ul>
<li>If no <code>id</code> is provided in <code>headers</code>, the library generates a unique subscription ID automatically.</li>
<li>Provide an explicit <code>id</code> in <code>headers</code> if you wish to manage the subscription ID manually.</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const callback = (message) =&gt; {
  console.log(&quot;Received message:&quot;, message.body);
};

// Auto-generated subscription ID
const subscription = client.subscribe(&quot;/queue/test&quot;, callback);

// Explicit subscription ID
const mySubId = &quot;my-subscription-id&quot;;
const subscription = client.subscribe(&quot;/queue/test&quot;, callback, { id: mySubId });</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>destination</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>Destination to subscribe to.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>callback</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#messageCallbackType" target="_self" >messageCallbackType</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>Function invoked for each received message.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                    <td>
                                        <p>Optional headers for subscription, such as <code>id</code>.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/StompSubscription.html" target="_self" >StompSubscription</a></code>

                    </div>
                    <div class="io-description">
                        <p>A {@link StompSubscription} which can be used to manage the subscription.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsubscribe"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>unsubscribe</b></span>
                        <a href="#unsubscribe"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>unsubscribe(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html" target="_self">StompHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1188"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1188</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Unsubscribes from a subscription on the STOMP broker.</p>
<p>Prefer using the <code>unsubscribe</code> method directly on the <a href="../interfaces/StompSubscription.html">StompSubscription</a> returned from <code>subscribe</code> for cleaner management:</p>
<div><pre class="line-numbers"><code class="language-javascript">const subscription = client.subscribe(&quot;/queue/test&quot;, callback);
// Unsubscribe using the subscription object
subscription.unsubscribe();</code></pre></div><p>This method can also be used directly with the subscription ID.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.unsubscribe(&quot;my-subscription-id&quot;);</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>Subscription ID to unsubscribe.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                    <td>
                                        <p>Optional headers to pass for the UNSUBSCRIBE frame.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="watchForReceipt"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>watchForReceipt</b></span>
                        <a href="#watchForReceipt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>watchForReceipt(receiptId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callback: <a href="../undefineds/frameCallbackType.html" target="_self">frameCallbackType</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1123"
                            class="link-to-prism">consolidated/stompjs/src/client.ts:1123</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Monitors for a receipt acknowledgment from the broker for specific operations.</p>
<p>Add a <code>receipt</code> header to the operation (like subscribe or publish), and use this method with
the same receipt ID to detect when the broker has acknowledged the operation&#39;s completion.</p>
<p>The callback is invoked with the corresponding <a href="../interfaces/IFrame.html">IFrame</a> when the receipt is received.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const receiptId = &quot;unique-receipt-id&quot;;

client.watchForReceipt(receiptId, (frame) =&gt; {
  console.log(&quot;Operation acknowledged by the broker:&quot;, frame);
});

// Attach the receipt header to an operation
client.publish({ destination: &quot;/queue/test&quot;, headers: { receipt: receiptId }, body: &quot;Hello&quot; });</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>receiptId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Unique identifier for the receipt.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>callback</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Callback function invoked on receiving the RECEIPT frame.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>





            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="webSocket"></a>
                        <span class="name"><b>webSocket</b><a href="#webSocket"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>webSocket()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="292" class="link-to-prism">consolidated/stompjs/src/client.ts:292</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Provides access to the underlying WebSocket instance.
This property is <strong>read-only</strong>.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">const webSocket = client.webSocket;
if (webSocket) {
  console.log(&#39;WebSocket is connected:&#39;, webSocket.readyState === WebSocket.OPEN);
}</code></pre></div><p><strong>Caution:</strong>
Directly interacting with the WebSocket instance (e.g., sending or receiving frames)
can interfere with the proper functioning of this library. Such actions may cause
unexpected behavior, disconnections, or invalid state in the library&#39;s internal mechanisms.</p>
<p>Instead, use the library&#39;s provided methods to manage STOMP communication.</p>
</div>

                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="../classes/Stomp.html" target="_self" >IStompSocket | undefined</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="disconnectHeaders"></a>
                        <span class="name"><b>disconnectHeaders</b><a href="#disconnectHeaders"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>disconnectHeaders()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="326" class="link-to-prism">consolidated/stompjs/src/client.ts:326</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Allows customization of the disconnection headers.</p>
<p>Any changes made during an active session will also be applied immediately.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">client.disconnectHeaders = {
  receipt: &#39;custom-receipt-id&#39;
};</code></pre></div></div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>

                                </div>
                        </td>
                    </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>set</b><code>disconnectHeaders(value: <a href="../classes/StompHeaders.html" target="_self">StompHeaders</a>)</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="330" class="link-to-prism">consolidated/stompjs/src/client.ts:330</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">

                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <table class="params">
                                            <thead>
                                                <tr>
                                                    <td>Name</td>
                                                        <td>Type</td>
                                                    <td>Optional</td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                    <tr>
                                                            <td>value</td>
                                                    
                                                            <td>
                                                                            <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                            </td>
                                                    
                                                        <td>
                                                                No
                                                        </td>
                                                        
                                                    </tr>
                                            </tbody>
                                        </table>
                                </div>
                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                                </div>
                        </td>
                    </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="connected"></a>
                        <span class="name"><b>connected</b><a href="#connected"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>connected()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="439" class="link-to-prism">consolidated/stompjs/src/client.ts:439</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Indicates whether there is an active connection to the STOMP broker.</p>
<p>Usage:</p>
<div><pre class="line-numbers"><code class="language-javascript">if (client.connected) {
  console.log(&#39;Client is connected to the broker.&#39;);
} else {
  console.log(&#39;No connection to the broker.&#39;);
}</code></pre></div></div>

                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="connectedVersion"></a>
                        <span class="name"><b>connectedVersion</b><a href="#connectedVersion"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>connectedVersion()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="606" class="link-to-prism">consolidated/stompjs/src/client.ts:606</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>The version of the STOMP protocol negotiated with the server during connection.</p>
<p>This is a <strong>read-only</strong> property and reflects the negotiated protocol version after
a successful connection.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">console.log(&#39;Connected STOMP version:&#39;, client.connectedVersion);</code></pre></div></div>

                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>    <code>string | undefined</code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="active"></a>
                        <span class="name"><b>active</b><a href="#active"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>active()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="628" class="link-to-prism">consolidated/stompjs/src/client.ts:628</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Indicates whether the client is currently active.</p>
<p>A client is considered active if it is connected or actively attempting to reconnect.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">if (client.active) {
  console.log(&#39;The client is active.&#39;);
} else {
  console.log(&#39;The client is inactive.&#39;);
}</code></pre></div></div>

                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { ITransaction } from &#x27;./i-transaction.js&#x27;;
import { StompConfig } from &#x27;./stomp-config.js&#x27;;
import { StompHandler } from &#x27;./stomp-handler.js&#x27;;
import { StompHeaders } from &#x27;./stomp-headers.js&#x27;;
import { StompSubscription } from &#x27;./stomp-subscription.js&#x27;;
import {
  ActivationState,
  closeEventCallbackType,
  debugFnType,
  emptyCallbackType,
  frameCallbackType,
  IPublishParams,
  IStompSocket,
  messageCallbackType,
  ReconnectionTimeMode,
  StompSocketState,
  TickerStrategy,
  wsErrorCallbackType,
} from &#x27;./types.js&#x27;;
import { Versions } from &#x27;./versions.js&#x27;;

/**
 * @internal
 */
declare const WebSocket: {
  prototype: IStompSocket;
  new (url: string, protocols?: string | string[]): IStompSocket;
};

/**
 * STOMP Client Class.
 *
 * Part of &#x60;@stomp/stompjs&#x60;.
 *
 * This class provides a robust implementation for connecting to and interacting with a
 * STOMP-compliant messaging broker over WebSocket. It supports STOMP versions 1.2, 1.1, and 1.0.
 *
 * Features:
 * - Handles automatic reconnections.
 * - Supports heartbeat mechanisms to detect and report communication failures.
 * - Allows customization of connection and WebSocket behaviors through configurations.
 * - Compatible with both browser environments and Node.js with polyfill support for WebSocket.
 */
export class Client {
  /**
   * The URL for the STOMP broker to connect to.
   * Example: &#x60;&quot;ws://broker.domain.com:15674/ws&quot;&#x60; or &#x60;&quot;wss://broker.domain.com:15674/ws&quot;&#x60;.
   *
   * Use this property to define the broker&#x27;s WebSocket endpoint.
   * Note:
   * - Only one of &#x60;brokerURL&#x60; or [Client#webSocketFactory]{@link Client#webSocketFactory} needs to be set.
   * - If both are provided, [Client#webSocketFactory]{@link Client#webSocketFactory} takes precedence.
   * - When targeting environments without native WebSocket support, refer to 
   *   [Polyfills]{@link https://stomp-js.github.io/guide/stompjs/rx-stomp/ng2-stompjs/pollyfils-for-stompjs-v5.html}.
   */
  public brokerURL: string | undefined;

  /**
   * STOMP protocol versions to use during the handshake. By default, the client will attempt
   * versions &#x60;1.2&#x60;, &#x60;1.1&#x60;, and &#x60;1.0&#x60; in descending order of preference.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * // Configure the client to only use versions 1.1 and 1.0
   * client.stompVersions &#x3D; new Versions([&#x27;1.1&#x27;, &#x27;1.0&#x27;]);
   * &#x60;&#x60;&#x60;
   */
  public stompVersions &#x3D; Versions.default;

  /**
   * A function that returns a WebSocket or a similar object (e.g., SockJS) to establish connections.
   *
   * This is an alternative to [Client#brokerURL]{@link Client#brokerURL}.
   * Using this allows finer control over WebSocket creation, especially for custom wrappers
   * or when working in non-standard environments.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.webSocketFactory &#x3D; function () {
   *   return new WebSocket(&quot;ws://my-custom-websocket-endpoint&quot;);
   * };
   *
   * // Typical usage with SockJS
   * client.webSocketFactory&#x3D; function () {
   *   return new SockJS(&quot;http://broker.329broker.com/stomp&quot;);
   * };
   * &#x60;&#x60;&#x60;
   *
   * Note:
   * - If both [Client#brokerURL]{@link Client#brokerURL} and this property are set, the factory will be used.
   * - Refer to [Polyfills Guide]{@link https://stomp-js.github.io/guide/stompjs/rx-stomp/ng2-stompjs/pollyfils-for-stompjs-v5.html}
   *   when running in environments without native WebSocket support.
   */
  public webSocketFactory: (() &#x3D;&gt; IStompSocket) | undefined;

  /**
   * Timeout for establishing STOMP connection, in milliseconds.
   * 
   * If the connection is not established within this period, the attempt will fail.
   * The default is &#x60;0&#x60;, meaning no timeout is set for connection attempts.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.connectionTimeout &#x3D; 5000; // Fail connection if not established in 5 seconds
   * &#x60;&#x60;&#x60;
   */
  public connectionTimeout: number &#x3D; 0;

  // Internal timer for handling connection timeout, if set.
  // See https://stackoverflow.com/questions/45802988/typescript-use-correct-version-of-settimeout-node-vs-window/56239226#56239226
  private _connectionWatcher: ReturnType&lt;typeof setTimeout&gt; | undefined;

  /**
   * Delay (in milliseconds) between reconnection attempts if the connection drops.
   * 
   * Set to &#x60;0&#x60; to disable automatic reconnections. The default value is &#x60;5000&#x60; ms (5 seconds).
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.reconnectDelay &#x3D; 3000; // Attempt reconnection every 3 seconds
   * client.reconnectDelay &#x3D; 0; // Disable automatic reconnection
   * &#x60;&#x60;&#x60;
   */
  public reconnectDelay: number &#x3D; 5000;

  /**
   * The next reconnection delay, used internally.
   * Initialized to the value of [Client#reconnectDelay]{@link Client#reconnectDelay}, and it may
   * dynamically change based on [Client#reconnectTimeMode]{@link Client#reconnectTimeMode}.
   */
  private _nextReconnectDelay: number &#x3D; 0;

  /**
   * Maximum delay (in milliseconds) between reconnection attempts when using exponential backoff.
   * 
   * Default is 15 minutes (&#x60;15 * 60 * 1000&#x60; milliseconds). If &#x60;0&#x60;, there will be no upper limit.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.maxReconnectDelay &#x3D; 10000; // Maximum wait time is 10 seconds
   * &#x60;&#x60;&#x60;
   */
  public maxReconnectDelay: number &#x3D; 15 * 60 * 1000;

  /**
   * Mode for determining the time interval between reconnection attempts.
   * 
   * Available modes:
   * - &#x60;ReconnectionTimeMode.LINEAR&#x60; (default): Fixed delays between reconnection attempts.
   * - &#x60;ReconnectionTimeMode.EXPONENTIAL&#x60;: Delay doubles after each attempt, capped by [maxReconnectDelay]{@link Client#maxReconnectDelay}.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.reconnectTimeMode &#x3D; ReconnectionTimeMode.EXPONENTIAL;
   * client.reconnectDelay &#x3D; 200; // Initial delay of 200 ms, doubles with each attempt
   * client.maxReconnectDelay &#x3D; 2 * 60 * 1000; // Cap delay at 10 minutes
   * &#x60;&#x60;&#x60;
   */
  public reconnectTimeMode: ReconnectionTimeMode &#x3D; ReconnectionTimeMode.LINEAR;

  /**
   * Interval (in milliseconds) for receiving heartbeat signals from the server.
   * 
   * Specifies the expected frequency of heartbeats sent by the server. Set to &#x60;0&#x60; to disable.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.heartbeatIncoming &#x3D; 10000; // Expect a heartbeat every 10 seconds
   * &#x60;&#x60;&#x60;
   */
  public heartbeatIncoming: number &#x3D; 10000;

  /**
   * Multiplier for adjusting tolerance when processing heartbeat signals.
   * 
   * Tolerance level is calculated using the multiplier:
   * &#x60;tolerance &#x3D; heartbeatIncoming * heartbeatToleranceMultiplier&#x60;.
   * This helps account for delays in network communication or variations in timings.
   * 
   * Default value is &#x60;2&#x60;.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.heartbeatToleranceMultiplier &#x3D; 2.5; // Tolerates longer delays
   * &#x60;&#x60;&#x60;
   */
  public heartbeatToleranceMultiplier: number &#x3D; 2;

  /**
   * Interval (in milliseconds) for sending heartbeat signals to the server.
   * 
   * Specifies how frequently heartbeats should be sent to the server. Set to &#x60;0&#x60; to disable.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.heartbeatOutgoing &#x3D; 5000; // Send a heartbeat every 5 seconds
   * &#x60;&#x60;&#x60;
   */
  public heartbeatOutgoing: number &#x3D; 10000;

  /**
   * Strategy for sending outgoing heartbeats.
   * 
   * Options:
   * - &#x60;TickerStrategy.Worker&#x60;: Uses Web Workers for sending heartbeats (recommended for long-running or background sessions).
   * - &#x60;TickerStrategy.Interval&#x60;: Uses standard JavaScript &#x60;setInterval&#x60; (default).
   * 
   * Note:
   * - If Web Workers are unavailable (e.g., in Node.js), the &#x60;Interval&#x60; strategy is used automatically.
   * - Web Workers are preferable in browsers for reducing disconnects when tabs are in the background.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.heartbeatStrategy &#x3D; TickerStrategy.Worker;
   * &#x60;&#x60;&#x60;
   */
  public heartbeatStrategy: TickerStrategy &#x3D; TickerStrategy.Interval;

  /**
   * Enables splitting of large text WebSocket frames into smaller chunks.
   *
   * This setting is enabled for brokers that support only chunked messages (e.g., Java Spring-based brokers).
   * Default is &#x60;false&#x60;.
   *
   * Warning:
   * - Should not be used with WebSocket-compliant brokers, as chunking may cause large message failures.
   * - Binary WebSocket frames are never split.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.splitLargeFrames &#x3D; true;
   * client.maxWebSocketChunkSize &#x3D; 4096; // Allow chunks of 4 KB
   * &#x60;&#x60;&#x60;
   */
  public splitLargeFrames: boolean &#x3D; false;

  /**
   * Maximum size (in bytes) for individual WebSocket chunks if [splitLargeFrames]{@link Client#splitLargeFrames} is enabled.
   *
   * Default is 8 KB (&#x60;8 * 1024&#x60; bytes). This value has no effect if [splitLargeFrames]{@link Client#splitLargeFrames} is &#x60;false&#x60;.
   */
  public maxWebSocketChunkSize: number &#x3D; 8 * 1024;

  /**
   * Forces all WebSocket frames to use binary transport, irrespective of payload type.
   *
   * Default behavior determines frame type based on payload (e.g., binary data for ArrayBuffers).
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.forceBinaryWSFrames &#x3D; true;
   * &#x60;&#x60;&#x60;
   */
  public forceBinaryWSFrames: boolean &#x3D; false;

  /**
   * Workaround for a React Native WebSocket bug, where messages containing &#x60;NULL&#x60; are chopped.
   *
   * Enabling this appends a &#x60;NULL&#x60; character to incoming frames to ensure they remain valid STOMP packets.
   *
   * Warning:
   * - For brokers that split large messages, this may cause data loss or connection termination.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.appendMissingNULLonIncoming &#x3D; true;
   * &#x60;&#x60;&#x60;
   */
  public appendMissingNULLonIncoming: boolean &#x3D; false;

  /**
   * Provides access to the underlying WebSocket instance.
   * This property is **read-only**.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const webSocket &#x3D; client.webSocket;
   * if (webSocket) {
   *   console.log(&#x27;WebSocket is connected:&#x27;, webSocket.readyState &#x3D;&#x3D;&#x3D; WebSocket.OPEN);
   * }
   * &#x60;&#x60;&#x60;
   *
   * **Caution:**
   * Directly interacting with the WebSocket instance (e.g., sending or receiving frames)
   * can interfere with the proper functioning of this library. Such actions may cause
   * unexpected behavior, disconnections, or invalid state in the library&#x27;s internal mechanisms.
   *
   * Instead, use the library&#x27;s provided methods to manage STOMP communication.
   *
   * @returns The WebSocket instance used by the STOMP handler, or &#x60;undefined&#x60; if not connected.
   */
  get webSocket(): IStompSocket | undefined {
    return this._stompHandler?._webSocket;
  }

  /**
   * Connection headers to be sent during the connection handshake.
   *
   * Keys like &#x60;login&#x60;, &#x60;passcode&#x60;, and &#x60;host&#x60; are commonly expected for most brokers.
   * Although STOMP 1.2 specifies these keys as mandatory, consult your broker&#x27;s documentation
   * for additional requirements or alternative header usage.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.connectHeaders &#x3D; {
   *   login: &#x27;my-username&#x27;,
   *   passcode: &#x27;my-password&#x27;,
   *   host: &#x27;my-vhost&#x27;
   * };
   * &#x60;&#x60;&#x60;
   */
  public connectHeaders: StompHeaders;

  /**
   * Allows customization of the disconnection headers.
   *
   * Any changes made during an active session will also be applied immediately.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.disconnectHeaders &#x3D; {
   *   receipt: &#x27;custom-receipt-id&#x27;
   * };
   * &#x60;&#x60;&#x60;
   */
  get disconnectHeaders(): StompHeaders {
    return this._disconnectHeaders;
  }

  set disconnectHeaders(value: StompHeaders) {
    this._disconnectHeaders &#x3D; value;
    if (this._stompHandler) {
      this._stompHandler.disconnectHeaders &#x3D; this._disconnectHeaders;
    }
  }
  private _disconnectHeaders: StompHeaders;

  /**
   * Callback invoked for any unhandled messages received from the broker.
   *
   * This is particularly useful for handling messages sent to RabbitMQ temporary queues
   * or other queues where no explicit subscription exists. It can also be triggered
   * by stray messages received while a subscription is being unsubscribed.
   *
   * Usage:
   * &#x60;&#x60;&#x60;javascript
   * client.onUnhandledMessage &#x3D; (message) &#x3D;&gt; {
   *   console.log(&#x27;Unhandled message:&#x27;, message);
   * };
   * &#x60;&#x60;&#x60;
   *
   * @param message The actual {@link IMessage} received.
   */
  public onUnhandledMessage: messageCallbackType;

  /**
   * Callback invoked when the broker sends a receipt indicating the completion
   * of an operation. Receipts are typically requested using the
   * [Client#watchForReceipt]{@link Client#watchForReceipt} function.
   *
   * Usage Example:
   * See [Client#watchForReceipt]{@link Client#watchForReceipt}.
   *
   * @param frame The actual {@link IFrame} received from the broker.
   */
  public onUnhandledReceipt: frameCallbackType;

  /**
   * Callback invoked when a frame of an unknown or unexpected type is received
   * from the broker.
   *
   * This is intended as a fallback for handling unexpected or unsupported frames
   * sent by the broker.
   *
   * Usage:
   * &#x60;&#x60;&#x60;javascript
   * client.onUnhandledFrame &#x3D; (frame) &#x3D;&gt; {
   *   console.warn(&#x27;Unhandled frame received:&#x27;, frame);
   * };
   * &#x60;&#x60;&#x60;
   *
   * @param frame The actual {@link IFrame} received from the broker.
   */
  public onUnhandledFrame: frameCallbackType;

  /**
   * Callback invoked when a heartbeat message is received from the STOMP broker.
   *
   * Heartbeats ensure that the connection remains active and responsive. This callback
   * is executed on every received heartbeat. It is useful for monitoring connection health
   * or logging heartbeat activity.
   *
   * **Note**: The library handles heartbeats internally to maintain and verify connection status.
   * Implementing this callback is optional and primarily for custom monitoring or debugging.
   *
   * Usage:
   * &#x60;&#x60;&#x60;javascript
   * client.onHeartbeatReceived &#x3D; () &#x3D;&gt; {
   *   console.log(&#x27;Heartbeat received&#x27;);
   * };
   * &#x60;&#x60;&#x60;
   */
  public onHeartbeatReceived: emptyCallbackType;

  /**
   * Callback invoked when no heartbeat is received from the broker within
   * the acceptable interval, indicating a potential communication issue or connection failure.
   *
   * This callback is triggered when the heartbeat interval defined by &#x60;heartbeatIncoming&#x60;
   * elapses without a received heartbeat.
   *
   * **Note**: The library handles this condition internally and takes appropriate
   * actions, such as marking the connection as failed. This callback is available
   * for implementing custom recovery strategies or additional notifications.
   *
   * Usage:
   * &#x60;&#x60;&#x60;javascript
   * client.onHeartbeatLost &#x3D; () &#x3D;&gt; {
   *   console.error(&#x27;Lost connection to the broker&#x27;);
   * };
   * &#x60;&#x60;&#x60;
   */
  public onHeartbeatLost: emptyCallbackType;

  /**
   * Indicates whether there is an active connection to the STOMP broker.
   *
   * Usage:
   * &#x60;&#x60;&#x60;javascript
   * if (client.connected) {
   *   console.log(&#x27;Client is connected to the broker.&#x27;);
   * } else {
   *   console.log(&#x27;No connection to the broker.&#x27;);
   * }
   * &#x60;&#x60;&#x60;
   *
   * @returns &#x60;true&#x60; if the client is currently connected, &#x60;false&#x60; otherwise.
   */
  get connected(): boolean {
    return !!this._stompHandler &amp;&amp; this._stompHandler.connected;
  }

  /**
   * Callback executed before initiating a connection to the STOMP broker.
   *
   * This callback allows users to modify connection options dynamically,
   * such as updating credentials or connection parameters, before the connection is made.
   *
   * As of version 5.1, this callback supports &#x60;async/await&#x60;, enabling seamless integration
   * with asynchronous operations, such as fetching tokens or credentials.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.beforeConnect &#x3D; async () &#x3D;&gt; {
   *   const token &#x3D; await fetchToken();
   *   client.connectHeaders &#x3D; { Authorization: &#x60;Bearer ${token}&#x60; };
   * };
   * &#x60;&#x60;&#x60;
   */
  public beforeConnect: (client: Client) &#x3D;&gt; void | Promise&lt;void&gt;;

  /**
   * Callback executed upon every successful connection to the STOMP broker.
   *
   * This callback is invoked after the connection is established and the CONNECTED frame
   * is received from the broker. It provides access to the broker&#x27;s response frame,
   * allowing users to parse its headers or other data.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.onConnect &#x3D; (frame) &#x3D;&gt; {
   *   console.log(&#x27;Connected to broker, session ID:&#x27;, frame.headers[&#x27;session&#x27;]);
   * };
   * &#x60;&#x60;&#x60;
   */
  public onConnect: frameCallbackType;

  /**
   * Callback executed upon successful disconnection from the STOMP broker.
   *
   * The callback is invoked when the DISCONNECT receipt is received from the broker.
   * Note that due to the design of the STOMP protocol or communication interrupts, the
   * DISCONNECT receipt may not always be received. For handling such cases, use
   * [Client#onWebSocketClose]{@link Client#onWebSocketClose}.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.onDisconnect &#x3D; (frame) &#x3D;&gt; {
   *   console.log(&#x27;Disconnected successfully&#x27;);
   * };
   * &#x60;&#x60;&#x60;
   */
  public onDisconnect: frameCallbackType;

  /**
   * Callback executed when an ERROR frame is received from the STOMP broker.
   *
   * Receiving an ERROR frame typically indicates a problem with the subscription,
   * message format, or protocol violation. The broker will usually close the connection
   * after sending an ERROR frame.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.onStompError &#x3D; (frame) &#x3D;&gt; {
   *   console.error(&#x27;Broker reported an error:&#x27;, frame.body);
   * };
   * &#x60;&#x60;&#x60;
   */
  public onStompError: frameCallbackType;

  /**
   * Callback executed when the underlying WebSocket is closed.
   *
   * This can occur due to various reasons, such as network interruptions or broker shutdown.
   * The callback provides the WebSocket [CloseEvent]{@link https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent},
   * which contains details about the closure.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.onWebSocketClose &#x3D; (event) &#x3D;&gt; {
   *   console.log(&#x27;WebSocket closed. Code:&#x27;, event.code);
   * };
   * &#x60;&#x60;&#x60;
   */
  public onWebSocketClose: closeEventCallbackType;

  /**
   * Callback executed when the underlying WebSocket raises an error.
   *
   * This callback provides an [Event]{@link https://developer.mozilla.org/en-US/docs/Web/API/Event}
   * representing the error raised by the WebSocket.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.onWebSocketError &#x3D; (event) &#x3D;&gt; {
   *   console.error(&#x27;WebSocket error:&#x27;, event);
   * };
   * &#x60;&#x60;&#x60;
   */
  public onWebSocketError: wsErrorCallbackType;

  /**
   * Enable or disable logging of the raw communication with the broker.
   *
   * When enabled, it logs the raw frames exchanged with the broker. If disabled,
   * only the headers of the parsed frames will be logged.
   *
   * **Caution**: Raw communication frames must contain valid UTF-8 strings,
   * as any non-compliant data can cause errors in the logging process.
   *
   * Changes to this setting will take effect during the next broker reconnect.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.logRawCommunication &#x3D; true; // Enable logging raw communication
   * &#x60;&#x60;&#x60;
   */
  public logRawCommunication: boolean;

  /**
   * Set a custom debug function to capture debug messages.
   *
   * By default, debug messages are discarded. To log messages to the console, you can use:
   * &#x60;&#x60;&#x60;javascript
   * client.debug &#x3D; (str) &#x3D;&gt; {
   *   console.log(str);
   * };
   * &#x60;&#x60;&#x60;
   *
   * **Note**: This method does not support configurable log levels, and the output can be
   * verbose. Be cautious as debug messages may contain sensitive information, such as
   * credentials or tokens.
   */
  public debug: debugFnType;

  /**
   * Instruct the library to immediately terminate the socket on communication failures, even
   * before the WebSocket is completely closed.
   *
   * This is particularly useful in browser environments where WebSocket closure may get delayed,
   * causing prolonged reconnection intervals under certain failure conditions.
   *
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.discardWebsocketOnCommFailure &#x3D; true; // Enable aggressive closing of WebSocket
   * &#x60;&#x60;&#x60;
   *
   * Default value: &#x60;false&#x60;.
   */
  public discardWebsocketOnCommFailure: boolean &#x3D; false;

  /**
   * The version of the STOMP protocol negotiated with the server during connection.
   *
   * This is a **read-only** property and reflects the negotiated protocol version after
   * a successful connection.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * console.log(&#x27;Connected STOMP version:&#x27;, client.connectedVersion);
   * &#x60;&#x60;&#x60;
   *
   * @returns The negotiated STOMP protocol version or &#x60;undefined&#x60; if not connected.
   */
  get connectedVersion(): string | undefined {
    return this._stompHandler ? this._stompHandler.connectedVersion : undefined;
  }

  private _stompHandler: StompHandler | undefined;

  /**
   * Indicates whether the client is currently active.
   *
   * A client is considered active if it is connected or actively attempting to reconnect.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * if (client.active) {
   *   console.log(&#x27;The client is active.&#x27;);
   * } else {
   *   console.log(&#x27;The client is inactive.&#x27;);
   * }
   * &#x60;&#x60;&#x60;
   *
   * @returns &#x60;true&#x60; if the client is active, otherwise &#x60;false&#x60;.
   */
  get active(): boolean {
    return this.state &#x3D;&#x3D;&#x3D; ActivationState.ACTIVE;
  }

  /**
   * Callback invoked whenever the client&#x27;s state changes.
   *
   * This callback can be used to monitor transitions between various states, such as &#x60;ACTIVE&#x60;,
   * &#x60;INACTIVE&#x60;, or &#x60;DEACTIVATING&#x60;. Note that in some scenarios, the client may transition
   * directly from &#x60;ACTIVE&#x60; to &#x60;INACTIVE&#x60; without entering the &#x60;DEACTIVATING&#x60; state.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.onChangeState &#x3D; (state) &#x3D;&gt; {
   *   console.log(&#x60;Client state changed to: ${state}&#x60;);
   * };
   * &#x60;&#x60;&#x60;
   */
  public onChangeState: (state: ActivationState) &#x3D;&gt; void;

  private _changeState(state: ActivationState) {
    this.state &#x3D; state;
    this.onChangeState(state);
  }

  /**
   * Current activation state of the client.
   *
   * Possible states:
   * - &#x60;ActivationState.ACTIVE&#x60;: Client is connected or actively attempting to connect.
   * - &#x60;ActivationState.INACTIVE&#x60;: Client is disconnected and not attempting to reconnect.
   * - &#x60;ActivationState.DEACTIVATING&#x60;: Client is in the process of disconnecting.
   *
   * Note: The client may transition directly from &#x60;ACTIVE&#x60; to &#x60;INACTIVE&#x60; without entering
   * the &#x60;DEACTIVATING&#x60; state.
   */
  public state: ActivationState &#x3D; ActivationState.INACTIVE;

  private _reconnector: any;

  /**
   * Constructs a new STOMP client instance.
   *
   * The constructor initializes default values and sets up no-op callbacks for all events.
   * Configuration can be passed during construction, or updated later using &#x60;configure&#x60;.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const client &#x3D; new Client({
   *   brokerURL: &#x27;wss://broker.example.com&#x27;,
   *   reconnectDelay: 5000
   * });
   * &#x60;&#x60;&#x60;
   *
   * @param conf Optional configuration object to initialize the client with.
   */
  constructor(conf: StompConfig &#x3D; {}) {
    // No op callbacks
    const noOp &#x3D; () &#x3D;&gt; {};
    this.debug &#x3D; noOp;
    this.beforeConnect &#x3D; noOp;
    this.onConnect &#x3D; noOp;
    this.onDisconnect &#x3D; noOp;
    this.onUnhandledMessage &#x3D; noOp;
    this.onUnhandledReceipt &#x3D; noOp;
    this.onUnhandledFrame &#x3D; noOp;
    this.onHeartbeatReceived &#x3D; noOp;
    this.onHeartbeatLost &#x3D; noOp;
    this.onStompError &#x3D; noOp;
    this.onWebSocketClose &#x3D; noOp;
    this.onWebSocketError &#x3D; noOp;
    this.logRawCommunication &#x3D; false;
    this.onChangeState &#x3D; noOp;

    // These parameters would typically get proper values before connect is called
    this.connectHeaders &#x3D; {};
    this._disconnectHeaders &#x3D; {};

    // Apply configuration
    this.configure(conf);
  }

  /**
   * Updates the client&#x27;s configuration.
   *
   * All properties in the provided configuration object will override the current settings.
   *
   * Additionally, a warning is logged if &#x60;maxReconnectDelay&#x60; is configured to a
   * value lower than &#x60;reconnectDelay&#x60;, and &#x60;maxReconnectDelay&#x60; is adjusted to match &#x60;reconnectDelay&#x60;.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.configure({
   *   reconnectDelay: 3000,
   *   maxReconnectDelay: 10000
   * });
   * &#x60;&#x60;&#x60;
   *
   * @param conf Configuration object containing the new settings.
   */

  public configure(conf: StompConfig): void {
    // bulk assign all properties to this
    (Object as any).assign(this, conf);

    // Warn on incorrect maxReconnectDelay settings
    if (
      this.maxReconnectDelay &gt; 0 &amp;&amp;
      this.maxReconnectDelay &lt; this.reconnectDelay
    ) {
      this.debug(
        &#x60;Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.&#x60;,
      );
      this.maxReconnectDelay &#x3D; this.reconnectDelay;
    }
  }

  /**
   * Activates the client, initiating a connection to the STOMP broker.
   *
   * On activation, the client attempts to connect and sets its state to &#x60;ACTIVE&#x60;. If the connection
   * is lost, it will automatically retry based on &#x60;reconnectDelay&#x60; or &#x60;maxReconnectDelay&#x60;. If
   * &#x60;reconnectTimeMode&#x60; is set to &#x60;EXPONENTIAL&#x60;, the reconnect delay increases exponentially.
   *
   * To stop reconnection attempts and disconnect, call [Client#deactivate]{@link Client#deactivate}.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.activate(); // Connect to the broker
   * &#x60;&#x60;&#x60;
   *
   * If the client is currently &#x60;DEACTIVATING&#x60;, connection is delayed until the deactivation process completes.
   */
  public activate(): void {
    const _activate &#x3D; () &#x3D;&gt; {
      if (this.active) {
        this.debug(&#x27;Already ACTIVE, ignoring request to activate&#x27;);
        return;
      }

      this._changeState(ActivationState.ACTIVE);

      this._nextReconnectDelay &#x3D; this.reconnectDelay;
      this._connect();
    };

    // if it is deactivating, wait for it to complete before activating.
    if (this.state &#x3D;&#x3D;&#x3D; ActivationState.DEACTIVATING) {
      this.debug(&#x27;Waiting for deactivation to finish before activating&#x27;);
      this.deactivate().then(() &#x3D;&gt; {
        _activate();
      });
    } else {
      _activate();
    }
  }

  private async _connect(): Promise&lt;void&gt; {
    await this.beforeConnect(this);

    if (this._stompHandler) {
      this.debug(
        &#x27;There is already a stompHandler, skipping the call to connect&#x27;,
      );
      return;
    }

    if (!this.active) {
      this.debug(
        &#x27;Client has been marked inactive, will not attempt to connect&#x27;,
      );
      return;
    }

    // setup connection watcher
    if (this.connectionTimeout &gt; 0) {
      // clear first
      if (this._connectionWatcher) {
        clearTimeout(this._connectionWatcher);
      }
      this._connectionWatcher &#x3D; setTimeout(() &#x3D;&gt; {
        if (this.connected) {
          return;
        }
        // Connection not established, close the underlying socket
        // a reconnection will be attempted
        this.debug(
          &#x60;Connection not established in ${this.connectionTimeout}ms, closing socket&#x60;,
        );
        this.forceDisconnect();
      }, this.connectionTimeout);
    }

    this.debug(&#x27;Opening Web Socket...&#x27;);

    // Get the actual WebSocket (or a similar object)
    const webSocket &#x3D; this._createWebSocket();

    this._stompHandler &#x3D; new StompHandler(this, webSocket, {
      debug: this.debug,
      stompVersions: this.stompVersions,
      connectHeaders: this.connectHeaders,
      disconnectHeaders: this._disconnectHeaders,
      heartbeatIncoming: this.heartbeatIncoming,
      heartbeatGracePeriods: this.heartbeatToleranceMultiplier,
      heartbeatOutgoing: this.heartbeatOutgoing,
      heartbeatStrategy: this.heartbeatStrategy,
      splitLargeFrames: this.splitLargeFrames,
      maxWebSocketChunkSize: this.maxWebSocketChunkSize,
      forceBinaryWSFrames: this.forceBinaryWSFrames,
      logRawCommunication: this.logRawCommunication,
      appendMissingNULLonIncoming: this.appendMissingNULLonIncoming,
      discardWebsocketOnCommFailure: this.discardWebsocketOnCommFailure,

      onConnect: frame &#x3D;&gt; {
        // Successfully connected, stop the connection watcher
        if (this._connectionWatcher) {
          clearTimeout(this._connectionWatcher);
          this._connectionWatcher &#x3D; undefined;
        }

        if (!this.active) {
          this.debug(
            &#x27;STOMP got connected while deactivate was issued, will disconnect now&#x27;,
          );
          this._disposeStompHandler();
          return;
        }
        this.onConnect(frame);
      },
      onDisconnect: frame &#x3D;&gt; {
        this.onDisconnect(frame);
      },
      onStompError: frame &#x3D;&gt; {
        this.onStompError(frame);
      },
      onWebSocketClose: evt &#x3D;&gt; {
        this._stompHandler &#x3D; undefined; // a new one will be created in case of a reconnect

        if (this.state &#x3D;&#x3D;&#x3D; ActivationState.DEACTIVATING) {
          // Mark deactivation complete
          this._changeState(ActivationState.INACTIVE);
        }

        // The callback is called before attempting to reconnect, this would allow the client
        // to be &#x60;deactivated&#x60; in the callback.
        this.onWebSocketClose(evt);

        if (this.active) {
          this._schedule_reconnect();
        }
      },
      onWebSocketError: evt &#x3D;&gt; {
        this.onWebSocketError(evt);
      },
      onUnhandledMessage: message &#x3D;&gt; {
        this.onUnhandledMessage(message);
      },
      onUnhandledReceipt: frame &#x3D;&gt; {
        this.onUnhandledReceipt(frame);
      },
      onUnhandledFrame: frame &#x3D;&gt; {
        this.onUnhandledFrame(frame);
      },
      onHeartbeatReceived: () &#x3D;&gt; {
        this.onHeartbeatReceived();
      },
      onHeartbeatLost: () &#x3D;&gt; {
        this.onHeartbeatLost();
      },
    });

    this._stompHandler.start();
  }

  private _createWebSocket(): IStompSocket {
    let webSocket: IStompSocket;

    if (this.webSocketFactory) {
      webSocket &#x3D; this.webSocketFactory();
    } else if (this.brokerURL) {
      webSocket &#x3D; new WebSocket(
        this.brokerURL,
        this.stompVersions.protocolVersions(),
      );
    } else {
      throw new Error(&#x27;Either brokerURL or webSocketFactory must be provided&#x27;);
    }
    webSocket.binaryType &#x3D; &#x27;arraybuffer&#x27;;
    return webSocket;
  }

  private _schedule_reconnect(): void {
    if (this._nextReconnectDelay &gt; 0) {
      this.debug(
        &#x60;STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms&#x60;,
      );

      this._reconnector &#x3D; setTimeout(() &#x3D;&gt; {
        if (this.reconnectTimeMode &#x3D;&#x3D;&#x3D; ReconnectionTimeMode.EXPONENTIAL) {
          this._nextReconnectDelay &#x3D; this._nextReconnectDelay * 2;

          // Truncated exponential backoff with a set limit unless disabled
          if (this.maxReconnectDelay !&#x3D;&#x3D; 0) {
            this._nextReconnectDelay &#x3D; Math.min(
              this._nextReconnectDelay,
              this.maxReconnectDelay,
            );
          }
        }

        this._connect();
      }, this._nextReconnectDelay);
    }
  }

  /**
   * Disconnects the client and stops the automatic reconnection loop.
   *
   * If there is an active STOMP connection at the time of invocation, the appropriate callbacks
   * will be triggered during the shutdown sequence. Once deactivated, the client will enter the
   * &#x60;INACTIVE&#x60; state, and no further reconnection attempts will be made.
   *
   * **Behavior**:
   * - If there is no active WebSocket connection, this method resolves immediately.
   * - If there is an active connection, the method waits for the underlying WebSocket
   *   to properly close before resolving.
   * - Multiple calls to this method are safe. Each invocation resolves upon completion.
   * - To reactivate, call [Client#activate]{@link Client#activate}.
   *
   * **Experimental Option:**
   * - By specifying the &#x60;force: true&#x60; option, the WebSocket connection is discarded immediately,
   *   bypassing both the STOMP and WebSocket shutdown sequences.
   * - **Caution:** Using &#x60;force: true&#x60; may leave the WebSocket in an inconsistent state,
   *   and brokers may not immediately detect the termination.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * // Graceful disconnect
   * await client.deactivate();
   *
   * // Forced disconnect to speed up shutdown when the connection is stale
   * await client.deactivate({ force: true });
   * &#x60;&#x60;&#x60;
   *
   * @param options Configuration options for deactivation. Use &#x60;force: true&#x60; for immediate shutdown.
   * @returns A Promise that resolves when the deactivation process completes.
   */
  public async deactivate(options: { force?: boolean } &#x3D; {}): Promise&lt;void&gt; {
    const force: boolean &#x3D; options.force || false;
    const needToDispose &#x3D; this.active;
    let retPromise: Promise&lt;void&gt;;

    if (this.state &#x3D;&#x3D;&#x3D; ActivationState.INACTIVE) {
      this.debug(&#x60;Already INACTIVE, nothing more to do&#x60;);
      return Promise.resolve();
    }

    this._changeState(ActivationState.DEACTIVATING);

    // Reset reconnection timer just to be safe
    this._nextReconnectDelay &#x3D; 0;

    // Clear if a reconnection was scheduled
    if (this._reconnector) {
      clearTimeout(this._reconnector);
      this._reconnector &#x3D; undefined;
    }

    if (
      this._stompHandler &amp;&amp;
      // @ts-ignore - if there is a _stompHandler, there is the webSocket
      this.webSocket.readyState !&#x3D;&#x3D; StompSocketState.CLOSED
    ) {
      const origOnWebSocketClose &#x3D; this._stompHandler.onWebSocketClose;
      // we need to wait for the underlying websocket to close
      retPromise &#x3D; new Promise&lt;void&gt;((resolve, reject) &#x3D;&gt; {
        // @ts-ignore - there is a _stompHandler
        this._stompHandler.onWebSocketClose &#x3D; evt &#x3D;&gt; {
          origOnWebSocketClose(evt);
          resolve();
        };
      });
    } else {
      // indicate that auto reconnect loop should terminate
      this._changeState(ActivationState.INACTIVE);
      return Promise.resolve();
    }

    if (force) {
      this._stompHandler?.discardWebsocket();
    } else if (needToDispose) {
      this._disposeStompHandler();
    }

    return retPromise;
  }

  /**
   * Forces a disconnect by directly closing the WebSocket.
   *
   * Unlike a normal disconnect, this does not send a DISCONNECT sequence to the broker but
   * instead closes the WebSocket connection directly. After forcing a disconnect, the client
   * will automatically attempt to reconnect based on its &#x60;reconnectDelay&#x60; configuration.
   *
   * **Note:** To prevent further reconnect attempts, call [Client#deactivate]{@link Client#deactivate}.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.forceDisconnect();
   * &#x60;&#x60;&#x60;
   */
  public forceDisconnect() {
    if (this._stompHandler) {
      this._stompHandler.forceDisconnect();
    }
  }

  private _disposeStompHandler() {
    // Dispose STOMP Handler
    if (this._stompHandler) {
      this._stompHandler.dispose();
    }
  }

  /**
   * Sends a message to the specified destination on the STOMP broker.
   *
   * The &#x60;body&#x60; must be a &#x60;string&#x60;. For non-string payloads (e.g., JSON), encode it as a string before sending.
   * If sending binary data, use the &#x60;binaryBody&#x60; parameter as a [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array).
   *
   * **Content-Length Behavior**:
   * - For non-binary messages, the &#x60;content-length&#x60; header is added by default.
   * - The &#x60;content-length&#x60; header can be skipped for text frames by setting &#x60;skipContentLengthHeader: true&#x60; in the parameters.
   * - For binary messages, the &#x60;content-length&#x60; header is always included.
   *
   * **Notes**:
   * - Ensure that brokers support binary frames before using &#x60;binaryBody&#x60;.
   * - Sending messages with NULL octets and missing &#x60;content-length&#x60; headers can cause brokers to disconnect and throw errors.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * // Basic text message
   * client.publish({ destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot; });
   *
   * // Text message with additional headers
   * client.publish({ destination: &quot;/queue/test&quot;, headers: { priority: 9 }, body: &quot;Hello, STOMP&quot; });
   *
   * // Skip content-length header
   * client.publish({ destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot;, skipContentLengthHeader: true });
   *
   * // Binary message
   * const binaryData &#x3D; new Uint8Array([1, 2, 3, 4]);
   * client.publish({
   *   destination: &#x27;/topic/special&#x27;,
   *   binaryBody: binaryData,
   *   headers: { &#x27;content-type&#x27;: &#x27;application/octet-stream&#x27; }
   * });
   * &#x60;&#x60;&#x60;
   */
  public publish(params: IPublishParams) {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    this._stompHandler.publish(params);
  }

  private _checkConnection() {
    if (!this.connected) {
      throw new TypeError(&#x27;There is no underlying STOMP connection&#x27;);
    }
  }

  /**
   * Monitors for a receipt acknowledgment from the broker for specific operations.
   *
   * Add a &#x60;receipt&#x60; header to the operation (like subscribe or publish), and use this method with
   * the same receipt ID to detect when the broker has acknowledged the operation&#x27;s completion.
   *
   * The callback is invoked with the corresponding {@link IFrame} when the receipt is received.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const receiptId &#x3D; &quot;unique-receipt-id&quot;;
   *
   * client.watchForReceipt(receiptId, (frame) &#x3D;&gt; {
   *   console.log(&quot;Operation acknowledged by the broker:&quot;, frame);
   * });
   *
   * // Attach the receipt header to an operation
   * client.publish({ destination: &quot;/queue/test&quot;, headers: { receipt: receiptId }, body: &quot;Hello&quot; });
   * &#x60;&#x60;&#x60;
   *
   * @param receiptId Unique identifier for the receipt.
   * @param callback Callback function invoked on receiving the RECEIPT frame.
   */
  public watchForReceipt(receiptId: string, callback: frameCallbackType): void {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    this._stompHandler.watchForReceipt(receiptId, callback);
  }

  /**
   * Subscribes to a destination on the STOMP broker.
   *
   * The callback is triggered for each message received from the subscribed destination. The message
   * is passed as an {@link IMessage} instance.
   *
   * **Subscription ID**:
   * - If no &#x60;id&#x60; is provided in &#x60;headers&#x60;, the library generates a unique subscription ID automatically.
   * - Provide an explicit &#x60;id&#x60; in &#x60;headers&#x60; if you wish to manage the subscription ID manually.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const callback &#x3D; (message) &#x3D;&gt; {
   *   console.log(&quot;Received message:&quot;, message.body);
   * };
   *
   * // Auto-generated subscription ID
   * const subscription &#x3D; client.subscribe(&quot;/queue/test&quot;, callback);
   *
   * // Explicit subscription ID
   * const mySubId &#x3D; &quot;my-subscription-id&quot;;
   * const subscription &#x3D; client.subscribe(&quot;/queue/test&quot;, callback, { id: mySubId });
   * &#x60;&#x60;&#x60;
   *
   * @param destination Destination to subscribe to.
   * @param callback Function invoked for each received message.
   * @param headers Optional headers for subscription, such as &#x60;id&#x60;.
   * @returns A {@link StompSubscription} which can be used to manage the subscription.
   */
  public subscribe(
    destination: string,
    callback: messageCallbackType,
    headers: StompHeaders &#x3D; {},
  ): StompSubscription {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    return this._stompHandler.subscribe(destination, callback, headers);
  }

  /**
   * Unsubscribes from a subscription on the STOMP broker.
   *
   * Prefer using the &#x60;unsubscribe&#x60; method directly on the {@link StompSubscription} returned from &#x60;subscribe&#x60; for cleaner management:
   * &#x60;&#x60;&#x60;javascript
   * const subscription &#x3D; client.subscribe(&quot;/queue/test&quot;, callback);
   * // Unsubscribe using the subscription object
   * subscription.unsubscribe();
   * &#x60;&#x60;&#x60;
   *
   * This method can also be used directly with the subscription ID.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * client.unsubscribe(&quot;my-subscription-id&quot;);
   * &#x60;&#x60;&#x60;
   *
   * @param id Subscription ID to unsubscribe.
   * @param headers Optional headers to pass for the UNSUBSCRIBE frame.
   */
  public unsubscribe(id: string, headers: StompHeaders &#x3D; {}): void {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    this._stompHandler.unsubscribe(id, headers);
  }

  /**
   * Starts a new transaction. The returned {@link ITransaction} object provides
   * methods for [commit]{@link ITransaction#commit} and [abort]{@link ITransaction#abort}.
   *
   * If &#x60;transactionId&#x60; is not provided, the library generates a unique ID internally.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const tx &#x3D; client.begin(); // Auto-generated ID
   *
   * // Or explicitly specify a transaction ID
   * const tx &#x3D; client.begin(&quot;my-transaction-id&quot;);
   * &#x60;&#x60;&#x60;
   *
   * @param transactionId Optional transaction ID.
   * @returns An instance of {@link ITransaction}.
   */
  public begin(transactionId?: string): ITransaction {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    return this._stompHandler.begin(transactionId);
  }

  /**
   * Commits a transaction.
   * 
   * It is strongly recommended to call [commit]{@link ITransaction#commit} on
   * the transaction object returned by [client#begin]{@link Client#begin}.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const tx &#x3D; client.begin();
   * // Perform operations under this transaction
   * tx.commit();
   * &#x60;&#x60;&#x60;
   * 
   * @param transactionId The ID of the transaction to commit.
   */
  public commit(transactionId: string): void {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    this._stompHandler.commit(transactionId);
  }

  /**
   * Aborts a transaction.
   * 
   * It is strongly recommended to call [abort]{@link ITransaction#abort} directly
   * on the transaction object returned by [client#begin]{@link Client#begin}.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const tx &#x3D; client.begin();
   * // Perform operations under this transaction
   * tx.abort(); // Abort the transaction
   * &#x60;&#x60;&#x60;
   * 
   * @param transactionId The ID of the transaction to abort.
   */
  public abort(transactionId: string): void {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    this._stompHandler.abort(transactionId);
  }

  /**
   * Acknowledges receipt of a message. Typically, this should be done by calling
   * [ack]{@link IMessage#ack} directly on the {@link IMessage} instance passed
   * to the subscription callback.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const callback &#x3D; (message) &#x3D;&gt; {
   *   // Process the message
   *   message.ack(); // Acknowledge the message
   * };
   * 
   * client.subscribe(&quot;/queue/example&quot;, callback, { ack: &quot;client&quot; });
   * &#x60;&#x60;&#x60;
   * 
   * @param messageId The ID of the message to acknowledge.
   * @param subscriptionId The ID of the subscription.
   * @param headers Optional headers for the acknowledgment frame.
   */
  public ack(
    messageId: string,
    subscriptionId: string,
    headers: StompHeaders &#x3D; {},
  ): void {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    this._stompHandler.ack(messageId, subscriptionId, headers);
  }

  /**
   * Rejects a message (negative acknowledgment). Like acknowledgments, this should
   * typically be done by calling [nack]{@link IMessage#nack} directly on the {@link IMessage}
   * instance passed to the subscription callback.
   * 
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * const callback &#x3D; (message) &#x3D;&gt; {
   *   // Process the message
   *   if (isError(message)) {
   *     message.nack(); // Reject the message
   *   }
   * };
   * 
   * client.subscribe(&quot;/queue/example&quot;, callback, { ack: &quot;client&quot; });
   * &#x60;&#x60;&#x60;
   * 
   * @param messageId The ID of the message to negatively acknowledge.
   * @param subscriptionId The ID of the subscription.
   * @param headers Optional headers for the NACK frame.
   */
  public nack(
    messageId: string,
    subscriptionId: string,
    headers: StompHeaders &#x3D; {},
  ): void {
    this._checkConnection();
    // @ts-ignore - we already checked that there is a _stompHandler, and it is connected
    this._stompHandler.nack(messageId, subscriptionId, headers);
  }
}
</code></pre>
    </div>
</div>









                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'Client.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
