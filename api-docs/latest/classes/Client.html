<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>stompjs-docs documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/Vagrant.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">stompjs-docs documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">











<ol class="breadcrumb">
  <li>Classes</li>
  <li>Client</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>consolidated/stompjs/src/client.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>STOMP Client Class.</p>

            </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#beforeConnect">beforeConnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#brokerURL">brokerURL</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#connectHeaders">connectHeaders</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#debug">debug</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#disconnectHeaders">disconnectHeaders</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#heartbeatIncoming">heartbeatIncoming</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#heartbeatOutgoing">heartbeatOutgoing</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onConnect">onConnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onDisconnect">onDisconnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onStompError">onStompError</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledFrame">onUnhandledFrame</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledMessage">onUnhandledMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledReceipt">onUnhandledReceipt</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onWebSocketClose">onWebSocketClose</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#reconnectDelay">reconnectDelay</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#stompVersions">stompVersions</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#webSocketFactory">webSocketFactory</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#abort">abort</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#ack">ack</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#activate">activate</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#begin">begin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#commit">commit</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#configure">configure</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#deactivate">deactivate</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#forceDisconnect">forceDisconnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#nack">nack</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#publish">publish</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#subscribe">subscribe</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#unsubscribe">unsubscribe</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#watchForReceipt">watchForReceipt</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#webSocket">webSocket</a>
                                </li>
                                <li>
                                    <a href="#connected">connected</a>
                                </li>
                                <li>
                                    <a href="#connectedVersion">connectedVersion</a>
                                </li>
                                <li>
                                    <a href="#active">active</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(conf: <a href="../classes/StompConfig.html">StompConfig</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="210" class="link-to-prism">consolidated/stompjs/src/client.ts:210</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Create an instance.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>conf</td>
                                                  
                                                        <td>
                                                                    <code><a href="../classes/StompConfig.html" target="_self" >StompConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="beforeConnect"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            beforeConnect
                            </b>
                            <a href="#beforeConnect"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>beforeConnect:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="140" class="link-to-prism">consolidated/stompjs/src/client.ts:140</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Callback, invoked on before a connection connection to the STOMP broker.</p>
<p>You can change options on the client, which will impact the immediate connect.
It is valid to call <a href="../classes/Client.html#deactivate">Client#decativate</a> in this callback.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="brokerURL"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            brokerURL
                            </b>
                            <a href="#brokerURL"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>brokerURL:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">consolidated/stompjs/src/client.ts:26</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The URL for the STOMP broker to connect to.
Typically like <code>&quot;ws://broker.329broker.com:15674/ws&quot;</code> or <code>&quot;wss://broker.329broker.com:15674/ws&quot;</code>.</p>
<p>Only one of this or <a href="../classes/Client.html#webSocketFactory">Client#webSocketFactory</a> need to be set.
If both are set, <a href="../classes/Client.html#webSocketFactory">Client#webSocketFactory</a> will be used.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="connectHeaders"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            connectHeaders
                            </b>
                            <a href="#connectHeaders"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>connectHeaders:     <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">consolidated/stompjs/src/client.ts:92</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Connection headers, important keys - <code>login</code>, <code>passcode</code>, <code>host</code>.
Though STOMP 1.2 standard marks these keys to be present, check your broker documentation for
details specific to your broker.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="debug"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            debug
                            </b>
                            <a href="#debug"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>debug:     <code><a href="../miscellaneous/typealiases.html#debugFnType" target="_self" >debugFnType</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#debugFnType" target="_self" >debugFnType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="192" class="link-to-prism">consolidated/stompjs/src/client.ts:192</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>By default, debug messages are discarded. To log to <code>console</code> following can be used:</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        client.debug = function(str) {
   *          console.log(str);
   *        };
   *</code></pre></div><p>Currently this method does not support levels of log. Be aware that the output can be quite verbose
and may contain sensitive information (like passwords, tokens etc.).</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="disconnectHeaders"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            disconnectHeaders
                            </b>
                            <a href="#disconnectHeaders"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>disconnectHeaders:     <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="97" class="link-to-prism">consolidated/stompjs/src/client.ts:97</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Disconnection headers.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="heartbeatIncoming"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            heartbeatIncoming
                            </b>
                            <a href="#heartbeatIncoming"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>heartbeatIncoming:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>10000</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">consolidated/stompjs/src/client.ts:68</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Incoming heartbeat interval in milliseconds. Set to 0 to disable.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="heartbeatOutgoing"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            heartbeatOutgoing
                            </b>
                            <a href="#heartbeatOutgoing"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>heartbeatOutgoing:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>10000</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">consolidated/stompjs/src/client.ts:73</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Outgoing heartbeat interval in milliseconds. Set to 0 to disable.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onConnect"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onConnect
                            </b>
                            <a href="#onConnect"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>onConnect:     <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="148" class="link-to-prism">consolidated/stompjs/src/client.ts:148</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Callback, invoked on every successful connection to the STOMP broker.</p>
<p>The actual <a href="Frame">Frame</a> will be passed as parameter to the callback.
Sometimes clients will like to use headers from this frame.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onDisconnect"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onDisconnect
                            </b>
                            <a href="#onDisconnect"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>onDisconnect:     <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="161" class="link-to-prism">consolidated/stompjs/src/client.ts:161</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Callback, invoked on every successful disconnection from the STOMP broker. It will not be invoked if
the STOMP broker disconnected due to an error.</p>
<p>The actual Receipt <a href="Frame">Frame</a> acknowledging the DISCONNECT will be passed as parameter to the callback.</p>
<p>The way STOMP protocol is designed, the connection may close/terminate without the client
receiving the Receipt <a href="Frame">Frame</a> acknowledging the DISCONNECT.
You might find <a href="../classes/Client.html#onWebSocketClose">Client#onWebSocketClose</a> more appropriate to watch
STOMP broker disconnects.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onStompError"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onStompError
                            </b>
                            <a href="#onStompError"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>onStompError:     <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="170" class="link-to-prism">consolidated/stompjs/src/client.ts:170</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Callback, invoked on an ERROR frame received from the STOMP Broker.
A compliant STOMP Broker will close the connection after this type of frame.
Please check broker specific documentation for exact behavior.</p>
<p>The actual <a href="Frame">Frame</a> will be passed as parameter to the callback.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onUnhandledFrame"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onUnhandledFrame
                            </b>
                            <a href="#onUnhandledFrame"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>onUnhandledFrame:     <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="125" class="link-to-prism">consolidated/stompjs/src/client.ts:125</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Will be invoked if <a href="Frame">Frame</a> of unknown type is received from the STOMP broker.</p>
<p>The actual <a href="Frame">Frame</a> will be passed as parameter to the callback.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onUnhandledMessage"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onUnhandledMessage
                            </b>
                            <a href="#onUnhandledMessage"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>onUnhandledMessage:     <code><a href="../miscellaneous/typealiases.html#messageCallbackType" target="_self" >messageCallbackType</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#messageCallbackType" target="_self" >messageCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="109" class="link-to-prism">consolidated/stompjs/src/client.ts:109</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>This function will be called for any unhandled messages.
It is useful for receiving messages sent to RabbitMQ temporary queues.</p>
<p>It can also get invoked with stray messages while the server is processing
a request to <a href="../classes/Client.html#unsubscribe">Client#unsubscribe</a>
from an endpoint.</p>
<p>The actual <a href="../classes/Message.html">Message</a> will be passed as parameter to the callback.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onUnhandledReceipt"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onUnhandledReceipt
                            </b>
                            <a href="#onUnhandledReceipt"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>onUnhandledReceipt:     <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="118" class="link-to-prism">consolidated/stompjs/src/client.ts:118</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>STOMP brokers can be requested to notify when an operation is actually completed.
Prefer using <a href="../classes/Client.html#watchForReceipt">Client#watchForReceipt</a>. See
<a href="../classes/Client.html#watchForReceipt">Client#watchForReceipt</a> for examples.</p>
<p>The actual <a href="Frame">Frame</a> will be passed as parameter to the callback.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onWebSocketClose"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onWebSocketClose
                            </b>
                            <a href="#onWebSocketClose"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>onWebSocketClose:     <code><a href="../miscellaneous/typealiases.html#closeEventCallbackType" target="_self" >closeEventCallbackType</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#closeEventCallbackType" target="_self" >closeEventCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="178" class="link-to-prism">consolidated/stompjs/src/client.ts:178</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Callback, invoked when underlying WebSocket is closed.</p>
<p>Actual <a href="https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent">CloseEvent</a>
is passed as parameter to the callback.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="reconnectDelay"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            reconnectDelay
                            </b>
                            <a href="#reconnectDelay"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>reconnectDelay:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>5000</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">consolidated/stompjs/src/client.ts:63</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>automatically reconnect with delay in milliseconds, set to 0 to disable.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="stompVersions"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            stompVersions
                            </b>
                            <a href="#stompVersions"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>stompVersions:     <code></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>Versions.default</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">consolidated/stompjs/src/client.ts:37</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>STOMP versions to attempt during STOMP handshake. By default versions <code>1.0</code>, <code>1.1</code>, and <code>1.2</code> are attempted.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        // Try only versions 1.0 and 1.1
   *        client.stompVersions = new Versions([&#39;1.0&#39;, &#39;1.1&#39;])
   *</code></pre></div></div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="webSocketFactory"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            webSocketFactory
                            </b>
                            <a href="#webSocketFactory"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>webSocketFactory:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">consolidated/stompjs/src/client.ts:58</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>This function should return a WebSocket or a similar (e.g. SockJS) object.
If your STOMP Broker supports WebSockets, prefer setting <a href="../classes/Client.html#brokerURL">Client#brokerURL</a>.</p>
<p>If both this and <a href="../classes/Client.html#brokerURL">Client#brokerURL</a> are set, this will be used.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        // use a WebSocket
   *        client.webSocketFactory= function () {
   *          return new WebSocket(&quot;wss://broker.329broker.com:15674/ws&quot;);
   *        };
   *
   *        // Typical usage with SockJS
   *        client.webSocketFactory= function () {
   *          return new SockJS(&quot;http://broker.329broker.com/stomp&quot;);
   *        };
   *</code></pre></div></div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="abort"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            abort
                            </b>
                            <a href="#abort"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>abort(transactionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="539" class="link-to-prism">consolidated/stompjs/src/client.ts:539</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Abort a transaction.
It is preferable to abort a transaction by calling <a href="../classes/Transaction.html#abort">abort</a> directly on
<a href="../classes/Transaction.html">Transaction</a> returned by <a href="../classes/Client.html#begin">client.begin</a>.</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        var tx = client.begin(txId);
   *        //...
   *        tx.abort();
   *</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>transactionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ack"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            ack
                            </b>
                            <a href="#ack"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>ack(messageId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, subscriptionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="556" class="link-to-prism">consolidated/stompjs/src/client.ts:556</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>ACK a message. It is preferable to acknowledge a message by calling <a href="../classes/Message.html#ack">ack</a> directly
on the <a href="../classes/Message.html">Message</a> handled by a subscription callback:</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        var callback = function (message) {
   *          // process the message
   *          // acknowledge it
   *          message.ack();
   *        };
   *        client.subscribe(destination, callback, {&#39;ack&#39;: &#39;client&#39;});
   *</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>messageId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>subscriptionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="activate"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            activate
                            </b>
                            <a href="#activate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>activate()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="251" class="link-to-prism">consolidated/stompjs/src/client.ts:251</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Initiate the connection with the broker.
If the connection breaks, as per <a href="../classes/Client.html#reconnectDelay">Client#reconnectDelay</a>,
it will keep trying to reconnect.</p>
<p>Call <a href="../classes/Client.html#deactivate">Client#deactivate</a> to disconnect and stop reconnection attempts.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="begin"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            begin
                            </b>
                            <a href="#begin"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>begin(transactionId?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="508" class="link-to-prism">consolidated/stompjs/src/client.ts:508</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Start a transaction, the returned <a href="../classes/Transaction.html">Transaction</a> has methods - <a href="../classes/Transaction.html#commit">commit</a>
and <a href="../classes/Transaction.html#abort">abort</a>.</p>
<p><code>transactionId</code> is optional, if not passed the library will generate it internally.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>transactionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="../classes/Transaction.html" target="_self" >Transaction</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="commit"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            commit
                            </b>
                            <a href="#commit"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>commit(transactionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="524" class="link-to-prism">consolidated/stompjs/src/client.ts:524</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Commit a transaction.</p>
<p>It is preferable to commit a transaction by calling <a href="../classes/Transaction.html#commit">commit</a> directly on
<a href="../classes/Transaction.html">Transaction</a> returned by <a href="../classes/Client.html#begin">client.begin</a>.</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        var tx = client.begin(txId);
   *        //...
   *        tx.commit();
   *</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>transactionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="configure"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            configure
                            </b>
                            <a href="#configure"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>configure(conf: <a href="../classes/StompConfig.html">StompConfig</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="239" class="link-to-prism">consolidated/stompjs/src/client.ts:239</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Update configuration.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>conf</td>
                                                        <td>
                                                                    <code><a href="../classes/StompConfig.html" target="_self" >StompConfig</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="deactivate"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            deactivate
                            </b>
                            <a href="#deactivate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>deactivate()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="346" class="link-to-prism">consolidated/stompjs/src/client.ts:346</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Disconnect if connected and stop auto reconnect loop.
Appropriate callbacks will be invoked if underlying STOMP connection was connected.</p>
<p>To reactivate you can call <a href="../classes/Client.html#activate">Client#activate</a>.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="forceDisconnect"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            forceDisconnect
                            </b>
                            <a href="#forceDisconnect"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>forceDisconnect()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="363" class="link-to-prism">consolidated/stompjs/src/client.ts:363</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Force disconnect if there is an active connection by directly closing the underlying WebSocket.
This is different than a normal disconnect where a DISCONNECT sequence is carried out with the broker.
After forcing disconnect, automatic reconnect will be attempted.
To stop further reconnects call <a href="../classes/Client.html#deactivate">Client#deactivate</a> as well.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="nack"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            nack
                            </b>
                            <a href="#nack"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>nack(messageId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, subscriptionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="573" class="link-to-prism">consolidated/stompjs/src/client.ts:573</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>NACK a message. It is preferable to acknowledge a message by calling <a href="../classes/Message.html#nack">nack</a> directly
on the <a href="../classes/Message.html">Message</a> handled by a subscription callback:</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        var callback = function (message) {
   *          // process the message
   *          // an error occurs, nack it
   *          message.nack();
   *        };
   *        client.subscribe(destination, callback, {&#39;ack&#39;: &#39;client&#39;});
   *</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>messageId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>subscriptionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="publish"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            publish
                            </b>
                            <a href="#publish"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>publish(params: <a href="../interfaces/IPublishParams.html">IPublishParams</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="415" class="link-to-prism">consolidated/stompjs/src/client.ts:415</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Send a message to a named destination. Refer to your STOMP broker documentation for types
and naming of destinations.</p>
<p>STOMP protocol specifies and suggests some headers and also allows broker specific headers.</p>
<p><code>body</code> must be String.
You will need to covert the payload to string in case it is not string (e.g. JSON).</p>
<p>To send a binary message body use binaryBody parameter. It should be a
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>.
Sometimes brokers may not support binary frames out of the box.
Please check your broker documentation.</p>
<p><code>content-length</code> header is automatically added to the STOMP Frame sent to the broker.
Set <code>skipContentLengthHeader</code> to indicate that <code>content-length</code> header should not be added.
For binary messages <code>content-length</code> header is always added.</p>
<p>Caution: The broker will, most likely, report an error and disconnect if message body has NULL octet(s)
and <code>content-length</code> header is missing.</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        client.publish({destination: &quot;/queue/test&quot;, headers: {priority: 9}, body: &quot;Hello, STOMP&quot;});
   *
   *        // Only destination is mandatory parameter
   *        client.publish({destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot;});
   *
   *        // Skip content-length header in the frame to the broker
   *        client.publish({&quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot;, skipContentLengthHeader: true});
   *
   *        var binaryData = generateBinaryData(); // This need to be of type Uint8Array
   *        // setting content-type header is not mandatory, however a good practice
   *        client.publish({destination: &#39;/topic/special&#39;, binaryBody: binaryData,
   *                         headers: {&#39;content-type&#39;: &#39;application/octet-stream&#39;}});
   *</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>params</td>
                                                        <td>
                                                                    <code><a href="../interfaces/IPublishParams.html" target="_self" >IPublishParams</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="subscribe"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            subscribe
                            </b>
                            <a href="#subscribe"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>subscribe(destination: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callback: <a href="../undefineds/messageCallbackType.html">messageCallbackType</a>, headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="482" class="link-to-prism">consolidated/stompjs/src/client.ts:482</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Subscribe to a STOMP Broker location. The callback will be invoked for each received message with
the <a href="../classes/Message.html">Message</a> as argument.</p>
<p>Note: The library will generate an unique ID if there is none provided in the headers.
       To use your own ID, pass it using the headers argument.</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        callback = function(message) {
   *        // called when the client receives a STOMP message from the server
   *          if (message.body) {
   *            alert(&quot;got message with body &quot; + message.body)
   *          } else {
   *            alert(&quot;got empty message&quot;);
   *          }
   *        });
   *
   *        var subscription = client.subscribe(&quot;/queue/test&quot;, callback);
   *
   *        // Explicit subscription id
   *        var mySubId = &#39;my-subscription-id-001&#39;;
   *        var subscription = client.subscribe(destination, callback, { id: mySubId });
   *</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>destination</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>callback</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/typealiases.html#messageCallbackType" target="_self" >messageCallbackType</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="../classes/StompSubscription.html" target="_self" >StompSubscription</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="unsubscribe"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            unsubscribe
                            </b>
                            <a href="#unsubscribe"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>unsubscribe(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="498" class="link-to-prism">consolidated/stompjs/src/client.ts:498</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>It is preferable to unsubscribe from a subscription by calling
<code>unsubscribe()</code> directly on <a href="../classes/StompSubscription.html">StompSubscription</a> returned by <code>client.subscribe()</code>:</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        var subscription = client.subscribe(destination, onmessage);
   *        // ...
   *        subscription.unsubscribe();
   *</code></pre></div><p>See: <a href="http://stomp.github.com/stomp-specification-1.2.html#UNSUBSCRIBE">http://stomp.github.com/stomp-specification-1.2.html#UNSUBSCRIBE</a> UNSUBSCRIBE Frame</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>id</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="watchForReceipt"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            watchForReceipt
                            </b>
                            <a href="#watchForReceipt"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>watchForReceipt(receiptId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callback: <a href="../undefineds/frameCallbackType.html">frameCallbackType</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="454" class="link-to-prism">consolidated/stompjs/src/client.ts:454</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>STOMP brokers may carry out operation asynchronously and allow requesting for acknowledgement.
To request an acknowledgement, a <code>receipt</code> header needs to be sent with the actual request.
The value (say receipt-id) for this header needs to be unique for each use. Typically a sequence, a UUID, a
random number or a combination may be used.</p>
<p>A complaint broker will send a RECEIPT frame when an operation has actually been completed.
The operation needs to be matched based in the value of the receipt-id.</p>
<p>This method allow watching for a receipt and invoke the callback
when corresponding receipt has been received.</p>
<p>The actual <a href="Frame">Frame</a> will be passed as parameter to the callback.</p>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">   *        // Subscribing with acknowledgement
   *        let receiptId = randomText();
   *
   *        client.watchForReceipt(receiptId, function() {
   *          // Will be called after server acknowledges
   *        });
   *
   *        client.subscribe(TEST.destination, onMessage, {receipt: receiptId});
   *
   *
   *        // Publishing with acknowledgement
   *        receiptId = randomText();
   *
   *        client.watchForReceipt(receiptId, function() {
   *          // Will be called after server acknowledges
   *        });
   *        client.publish({destination: TEST.destination, headers: {receipt: receiptId}, body: msg});
   *</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>receiptId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                                <tr>
                                                        <td>callback</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>






            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="webSocket"></a>
                        <span class="name"><b>webSocket</b><a href="#webSocket"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>webSocket()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">consolidated/stompjs/src/client.ts:78</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Underlying WebSocket instance, READONLY.</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>    <code>WebSocket</code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="connected"></a>
                        <span class="name"><b>connected</b><a href="#connected"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>connected()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="130" class="link-to-prism">consolidated/stompjs/src/client.ts:130</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p><code>true</code> if there is a active connection with STOMP Broker</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="connectedVersion"></a>
                        <span class="name"><b>connectedVersion</b><a href="#connectedVersion"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>connectedVersion()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="197" class="link-to-prism">consolidated/stompjs/src/client.ts:197</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>version of STOMP protocol negotiated with the server, READONLY</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="active"></a>
                        <span class="name"><b>active</b><a href="#active"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>active()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="206" class="link-to-prism">consolidated/stompjs/src/client.ts:206</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>if the client is active (connected or going to reconnect)</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {StompConfig} from &#x27;./stomp-config&#x27;;
import {StompHandler} from &#x27;./stomp-handler&#x27;;
import {StompHeaders} from &#x27;./stomp-headers&#x27;;
import {StompSubscription} from &#x27;./stomp-subscription&#x27;;
import {Transaction} from &#x27;./transaction&#x27;;
import {
  closeEventCallbackType,
  debugFnType,
  frameCallbackType,
  IPublishParams,
  messageCallbackType
} from &#x27;./types&#x27;;
import {Versions} from &#x27;./versions&#x27;;

/**
 * STOMP Client Class.
 */
export class Client {
  /**
   * The URL for the STOMP broker to connect to.
   * Typically like &#x60;&quot;ws://broker.329broker.com:15674/ws&quot;&#x60; or &#x60;&quot;wss://broker.329broker.com:15674/ws&quot;&#x60;.
   *
   * Only one of this or [Client#webSocketFactory]{@link Client#webSocketFactory} need to be set.
   * If both are set, [Client#webSocketFactory]{@link Client#webSocketFactory} will be used.
   */
  public brokerURL: string;

  /**
   * STOMP versions to attempt during STOMP handshake. By default versions &#x60;1.0&#x60;, &#x60;1.1&#x60;, and &#x60;1.2&#x60; are attempted.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   *        // Try only versions 1.0 and 1.1
   *        client.stompVersions &#x3D; new Versions([&#x27;1.0&#x27;, &#x27;1.1&#x27;])
   * &#x60;&#x60;&#x60;
   */
  public stompVersions &#x3D; Versions.default;

  /**
   * This function should return a WebSocket or a similar (e.g. SockJS) object.
   * If your STOMP Broker supports WebSockets, prefer setting [Client#brokerURL]{@link Client#brokerURL}.
   *
   * If both this and [Client#brokerURL]{@link Client#brokerURL} are set, this will be used.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   *        // use a WebSocket
   *        client.webSocketFactory&#x3D; function () {
   *          return new WebSocket(&quot;wss://broker.329broker.com:15674/ws&quot;);
   *        };
   *
   *        // Typical usage with SockJS
   *        client.webSocketFactory&#x3D; function () {
   *          return new SockJS(&quot;http://broker.329broker.com/stomp&quot;);
   *        };
   * &#x60;&#x60;&#x60;
   */
  public webSocketFactory: () &#x3D;&gt; WebSocket;

  /**
   *  automatically reconnect with delay in milliseconds, set to 0 to disable.
   */
  public reconnectDelay: number &#x3D; 5000;

  /**
   * Incoming heartbeat interval in milliseconds. Set to 0 to disable.
   */
  public heartbeatIncoming: number &#x3D; 10000;

  /**
   * Outgoing heartbeat interval in milliseconds. Set to 0 to disable.
   */
  public heartbeatOutgoing: number &#x3D; 10000;

  /**
   * Underlying WebSocket instance, READONLY.
   */
  get webSocket(): WebSocket {
    return this._webSocket;
  }
  /**
   * Underlying WebSocket instance
   * @internal
   */
  protected _webSocket: WebSocket;

  /**
   * Connection headers, important keys - &#x60;login&#x60;, &#x60;passcode&#x60;, &#x60;host&#x60;.
   * Though STOMP 1.2 standard marks these keys to be present, check your broker documentation for
   * details specific to your broker.
   */
  public connectHeaders: StompHeaders;

  /**
   * Disconnection headers.
   */
  public disconnectHeaders: StompHeaders;

  /**
   * This function will be called for any unhandled messages.
   * It is useful for receiving messages sent to RabbitMQ temporary queues.
   *
   * It can also get invoked with stray messages while the server is processing
   * a request to [Client#unsubscribe]{@link Client#unsubscribe}
   * from an endpoint.
   *
   * The actual {@link Message} will be passed as parameter to the callback.
   */
  public onUnhandledMessage: messageCallbackType;

  /**
   * STOMP brokers can be requested to notify when an operation is actually completed.
   * Prefer using [Client#watchForReceipt]{@link Client#watchForReceipt}. See
   * [Client#watchForReceipt]{@link Client#watchForReceipt} for examples.
   *
   * The actual {@link Frame} will be passed as parameter to the callback.
   */
  public onUnhandledReceipt: frameCallbackType;

  /**
   * Will be invoked if {@link Frame} of unknown type is received from the STOMP broker.
   *
   * The actual {@link Frame} will be passed as parameter to the callback.
   */
  public onUnhandledFrame: frameCallbackType;

  /**
   * &#x60;true&#x60; if there is a active connection with STOMP Broker
   */
  get connected(): boolean {
    return (!!this._stompHandler) &amp;&amp; this._stompHandler.connected;
  }

  /**
   * Callback, invoked on before a connection connection to the STOMP broker.
   *
   * You can change options on the client, which will impact the immediate connect.
   * It is valid to call [Client#decativate]{@link Client#deactivate} in this callback.
   */
  public beforeConnect: () &#x3D;&gt; void;

  /**
   * Callback, invoked on every successful connection to the STOMP broker.
   *
   * The actual {@link Frame} will be passed as parameter to the callback.
   * Sometimes clients will like to use headers from this frame.
   */
  public onConnect: frameCallbackType;

  /**
   * Callback, invoked on every successful disconnection from the STOMP broker. It will not be invoked if
   * the STOMP broker disconnected due to an error.
   *
   * The actual Receipt {@link Frame} acknowledging the DISCONNECT will be passed as parameter to the callback.
   *
   * The way STOMP protocol is designed, the connection may close/terminate without the client
   * receiving the Receipt {@link Frame} acknowledging the DISCONNECT.
   * You might find [Client#onWebSocketClose]{@link Client#onWebSocketClose} more appropriate to watch
   * STOMP broker disconnects.
   */
  public onDisconnect: frameCallbackType;

  /**
   * Callback, invoked on an ERROR frame received from the STOMP Broker.
   * A compliant STOMP Broker will close the connection after this type of frame.
   * Please check broker specific documentation for exact behavior.
   *
   * The actual {@link Frame} will be passed as parameter to the callback.
   */
  public onStompError: frameCallbackType;

  /**
   * Callback, invoked when underlying WebSocket is closed.
   *
   * Actual [CloseEvent]{@link https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent}
   * is passed as parameter to the callback.
   */
  public onWebSocketClose: closeEventCallbackType;

  /**
   * By default, debug messages are discarded. To log to &#x60;console&#x60; following can be used:
   *
   * &#x60;&#x60;&#x60;javascript
   *        client.debug &#x3D; function(str) {
   *          console.log(str);
   *        };
   * &#x60;&#x60;&#x60;
   *
   * Currently this method does not support levels of log. Be aware that the output can be quite verbose
   * and may contain sensitive information (like passwords, tokens etc.).
   */
  public debug: debugFnType;

  /**
   * version of STOMP protocol negotiated with the server, READONLY
   */
  get connectedVersion(): string {
    return this._stompHandler ? this._stompHandler.connectedVersion : undefined;
  }

  private _stompHandler: StompHandler;

  /**
   * if the client is active (connected or going to reconnect)
   */
  get active(): boolean {
    return this._active;
  }
  private _active: boolean &#x3D; false;
  private _reconnector: any;

  /**
   * Create an instance.
   */
  constructor(conf: StompConfig &#x3D; {}) {
    // Dummy callbacks
    const noOp &#x3D; () &#x3D;&gt; {};
    this.debug &#x3D; noOp;
    this.beforeConnect &#x3D; noOp;
    this.onConnect &#x3D; noOp;
    this.onDisconnect &#x3D; noOp;
    this.onUnhandledMessage &#x3D; noOp;
    this.onUnhandledReceipt &#x3D; noOp;
    this.onUnhandledFrame &#x3D; noOp;
    this.onStompError &#x3D; noOp;
    this.onWebSocketClose &#x3D; noOp;

    // These parameters would typically get proper values before connect is called
    this.connectHeaders &#x3D; {};
    this.disconnectHeaders &#x3D; {};

    // Apply configuration
    this.configure(conf);
  }

  /**
   * Update configuration.
   */
  public configure(conf: StompConfig): void {
    // bulk assign all properties to this
    (Object as any).assign(this, conf);
  }

  /**
   * Initiate the connection with the broker.
   * If the connection breaks, as per [Client#reconnectDelay]{@link Client#reconnectDelay},
   * it will keep trying to reconnect.
   *
   * Call [Client#deactivate]{@link Client#deactivate} to disconnect and stop reconnection attempts.
   */
  public activate(): void {
    this._active &#x3D; true;

    this._connect();
  }

  private _connect(): void {
    if (this.connected) {
      this.debug(&#x27;STOMP: already connected, nothing to do&#x27;);
      return;
    }

    this.beforeConnect();

    if (!this._active) {
      this.debug(&#x27;Client has been marked inactive, will not attempt to connect&#x27;);
      return;
    }

    this.debug(&#x27;Opening Web Socket...&#x27;);

    // Get the actual WebSocket (or a similar object)
    this._webSocket &#x3D; this._createWebSocket();

    this._stompHandler &#x3D; new StompHandler(this, this._webSocket, {
      debug: this.debug,
      stompVersions: this.stompVersions,
      connectHeaders: this.connectHeaders,
      disconnectHeaders: this.disconnectHeaders,
      heartbeatIncoming: this.heartbeatIncoming,
      heartbeatOutgoing: this.heartbeatOutgoing,
      onConnect: (frame) &#x3D;&gt; {
        if (!this._active) {
          this.debug(&#x27;STOMP got connected while deactivate was issued, will disconnect now&#x27;);
          this._disposeStompHandler();
          return;
        }
        this.onConnect(frame);
      },
      onDisconnect: (frame) &#x3D;&gt; {
        this.onDisconnect(frame);
      },
      onStompError: (frame) &#x3D;&gt; {
        this.onStompError(frame);
      },
      onWebSocketClose: (evt) &#x3D;&gt; {
        this.onWebSocketClose(evt);
        // The callback is called before attempting to reconnect, this would allow the client
        // to be &#x60;deactivated&#x60; in the callback.
        if (this._active) {
          this._schedule_reconnect();
        }
      },
      onUnhandledMessage: (message) &#x3D;&gt; {
        this.onUnhandledMessage(message);
      },
      onUnhandledReceipt: (frame) &#x3D;&gt; {
        this.onUnhandledReceipt(frame);
      },
      onUnhandledFrame: (frame) &#x3D;&gt; {
        this.onUnhandledFrame(frame);
      }
    });

    this._stompHandler.start();
  }

  private _createWebSocket() {
    let webSocket: WebSocket;

    if (this.webSocketFactory) {
      webSocket &#x3D; this.webSocketFactory();
    } else {
      webSocket &#x3D; new WebSocket(this.brokerURL, this.stompVersions.protocolVersions());
    }
    webSocket.binaryType &#x3D; &#x27;arraybuffer&#x27;;
    return webSocket;
  }

  private _schedule_reconnect(): void {
    if (this.reconnectDelay &gt; 0) {
      this.debug(&#x60;STOMP: scheduling reconnection in ${this.reconnectDelay}ms&#x60;);

      this._reconnector &#x3D; setTimeout(() &#x3D;&gt; {
        this._connect();
      }, this.reconnectDelay);
    }
  }

  /**
   * Disconnect if connected and stop auto reconnect loop.
   * Appropriate callbacks will be invoked if underlying STOMP connection was connected.
   *
   * To reactivate you can call [Client#activate]{@link Client#activate}.
   */
  public deactivate(): void {
    // indicate that auto reconnect loop should terminate
    this._active &#x3D; false;

    // Clear if a reconnection was scheduled
    if (this._reconnector) {
      clearTimeout(this._reconnector);
    }
    this._disposeStompHandler();
  }

  /**
   * Force disconnect if there is an active connection by directly closing the underlying WebSocket.
   * This is different than a normal disconnect where a DISCONNECT sequence is carried out with the broker.
   * After forcing disconnect, automatic reconnect will be attempted.
   * To stop further reconnects call [Client#deactivate]{@link Client#deactivate} as well.
   */
  public forceDisconnect() {
    if (this._webSocket) {
      if (this._webSocket.readyState &#x3D;&#x3D;&#x3D; WebSocket.CONNECTING || this._webSocket.readyState &#x3D;&#x3D;&#x3D; WebSocket.OPEN) {
        this._webSocket.close();
      }
    }
  }

  private _disposeStompHandler() {
    // Dispose STOMP Handler
    if (this._stompHandler) {
      this._stompHandler.dispose();
      this._stompHandler &#x3D; null;
    }
  }

  /**
   * Send a message to a named destination. Refer to your STOMP broker documentation for types
   * and naming of destinations.
   *
   * STOMP protocol specifies and suggests some headers and also allows broker specific headers.
   *
   * &#x60;body&#x60; must be String.
   * You will need to covert the payload to string in case it is not string (e.g. JSON).
   *
   * To send a binary message body use binaryBody parameter. It should be a
   * [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array).
   * Sometimes brokers may not support binary frames out of the box.
   * Please check your broker documentation.
   *
   * &#x60;content-length&#x60; header is automatically added to the STOMP Frame sent to the broker.
   * Set &#x60;skipContentLengthHeader&#x60; to indicate that &#x60;content-length&#x60; header should not be added.
   * For binary messages &#x60;content-length&#x60; header is always added.
   *
   * Caution: The broker will, most likely, report an error and disconnect if message body has NULL octet(s)
   * and &#x60;content-length&#x60; header is missing.
   *
   * &#x60;&#x60;&#x60;javascript
   *        client.publish({destination: &quot;/queue/test&quot;, headers: {priority: 9}, body: &quot;Hello, STOMP&quot;});
   *
   *        // Only destination is mandatory parameter
   *        client.publish({destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot;});
   *
   *        // Skip content-length header in the frame to the broker
   *        client.publish({&quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot;, skipContentLengthHeader: true});
   *
   *        var binaryData &#x3D; generateBinaryData(); // This need to be of type Uint8Array
   *        // setting content-type header is not mandatory, however a good practice
   *        client.publish({destination: &#x27;/topic/special&#x27;, binaryBody: binaryData,
   *                         headers: {&#x27;content-type&#x27;: &#x27;application/octet-stream&#x27;}});
   * &#x60;&#x60;&#x60;
   */
  public publish(params: IPublishParams) {
    this._stompHandler.publish(params);
  }

  /**
   * STOMP brokers may carry out operation asynchronously and allow requesting for acknowledgement.
   * To request an acknowledgement, a &#x60;receipt&#x60; header needs to be sent with the actual request.
   * The value (say receipt-id) for this header needs to be unique for each use. Typically a sequence, a UUID, a
   * random number or a combination may be used.
   *
   * A complaint broker will send a RECEIPT frame when an operation has actually been completed.
   * The operation needs to be matched based in the value of the receipt-id.
   *
   * This method allow watching for a receipt and invoke the callback
   * when corresponding receipt has been received.
   *
   * The actual {@link Frame} will be passed as parameter to the callback.
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   *        // Subscribing with acknowledgement
   *        let receiptId &#x3D; randomText();
   *
   *        client.watchForReceipt(receiptId, function() {
   *          // Will be called after server acknowledges
   *        });
   *
   *        client.subscribe(TEST.destination, onMessage, {receipt: receiptId});
   *
   *
   *        // Publishing with acknowledgement
   *        receiptId &#x3D; randomText();
   *
   *        client.watchForReceipt(receiptId, function() {
   *          // Will be called after server acknowledges
   *        });
   *        client.publish({destination: TEST.destination, headers: {receipt: receiptId}, body: msg});
   * &#x60;&#x60;&#x60;
   */
  public watchForReceipt(receiptId: string, callback: frameCallbackType): void {
    this._stompHandler.watchForReceipt(receiptId, callback);
  }

  /**
   * Subscribe to a STOMP Broker location. The callback will be invoked for each received message with
   * the {@link Message} as argument.
   *
   * Note: The library will generate an unique ID if there is none provided in the headers.
   *       To use your own ID, pass it using the headers argument.
   *
   * &#x60;&#x60;&#x60;javascript
   *        callback &#x3D; function(message) {
   *        // called when the client receives a STOMP message from the server
   *          if (message.body) {
   *            alert(&quot;got message with body &quot; + message.body)
   *          } else {
   *            alert(&quot;got empty message&quot;);
   *          }
   *        });
   *
   *        var subscription &#x3D; client.subscribe(&quot;/queue/test&quot;, callback);
   *
   *        // Explicit subscription id
   *        var mySubId &#x3D; &#x27;my-subscription-id-001&#x27;;
   *        var subscription &#x3D; client.subscribe(destination, callback, { id: mySubId });
   * &#x60;&#x60;&#x60;
   */
  public subscribe(destination: string, callback: messageCallbackType, headers: StompHeaders &#x3D; {}): StompSubscription {
    return this._stompHandler.subscribe(destination, callback, headers);
  }

  /**
   * It is preferable to unsubscribe from a subscription by calling
   * &#x60;unsubscribe()&#x60; directly on {@link StompSubscription} returned by &#x60;client.subscribe()&#x60;:
   *
   * &#x60;&#x60;&#x60;javascript
   *        var subscription &#x3D; client.subscribe(destination, onmessage);
   *        // ...
   *        subscription.unsubscribe();
   * &#x60;&#x60;&#x60;
   *
   * See: http://stomp.github.com/stomp-specification-1.2.html#UNSUBSCRIBE UNSUBSCRIBE Frame
   */
  public unsubscribe(id: string, headers: StompHeaders &#x3D; {}): void {
    this._stompHandler.unsubscribe(id, headers);
  }

  /**
   * Start a transaction, the returned {@link Transaction} has methods - [commit]{@link Transaction#commit}
   * and [abort]{@link Transaction#abort}.
   *
   * &#x60;transactionId&#x60; is optional, if not passed the library will generate it internally.
   */
  public begin(transactionId?: string): Transaction {
    return this._stompHandler.begin(transactionId);
  }

  /**
   * Commit a transaction.
   *
   * It is preferable to commit a transaction by calling [commit]{@link Transaction#commit} directly on
   * {@link Transaction} returned by [client.begin]{@link Client#begin}.
   *
   * &#x60;&#x60;&#x60;javascript
   *        var tx &#x3D; client.begin(txId);
   *        //...
   *        tx.commit();
   * &#x60;&#x60;&#x60;
   */
  public commit(transactionId: string): void {
    this._stompHandler.commit(transactionId);
  }

  /**
   * Abort a transaction.
   * It is preferable to abort a transaction by calling [abort]{@link Transaction#abort} directly on
   * {@link Transaction} returned by [client.begin]{@link Client#begin}.
   *
   * &#x60;&#x60;&#x60;javascript
   *        var tx &#x3D; client.begin(txId);
   *        //...
   *        tx.abort();
   * &#x60;&#x60;&#x60;
   */
  public abort(transactionId: string): void {
    this._stompHandler.abort(transactionId);
  }

  /**
   * ACK a message. It is preferable to acknowledge a message by calling [ack]{@link Message#ack} directly
   * on the {@link Message} handled by a subscription callback:
   *
   * &#x60;&#x60;&#x60;javascript
   *        var callback &#x3D; function (message) {
   *          // process the message
   *          // acknowledge it
   *          message.ack();
   *        };
   *        client.subscribe(destination, callback, {&#x27;ack&#x27;: &#x27;client&#x27;});
   * &#x60;&#x60;&#x60;
   */
  public ack(messageId: string, subscriptionId: string, headers: StompHeaders &#x3D; {}): void {
    this._stompHandler.ack(messageId, subscriptionId, headers);
  }

  /**
   * NACK a message. It is preferable to acknowledge a message by calling [nack]{@link Message#nack} directly
   * on the {@link Message} handled by a subscription callback:
   *
   * &#x60;&#x60;&#x60;javascript
   *        var callback &#x3D; function (message) {
   *          // process the message
   *          // an error occurs, nack it
   *          message.nack();
   *        };
   *        client.subscribe(destination, callback, {&#x27;ack&#x27;: &#x27;client&#x27;});
   * &#x60;&#x60;&#x60;
   */
  public nack(messageId: string, subscriptionId: string, headers: StompHeaders &#x3D; {}): void {
    this._stompHandler.nack(messageId, subscriptionId, headers);
  }
}
</code></pre>
    </div>
</div>







                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'Client.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
