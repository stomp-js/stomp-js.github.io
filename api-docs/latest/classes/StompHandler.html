<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>stompjs-docs documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">stompjs-docs documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">











<ol class="breadcrumb">
  <li>Classes</li>
  <li>StompHandler</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>consolidated/stompjs/src/stomp-handler.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>The STOMP protocol handler</p>
<p>Part of <code>@stomp/stompjs</code>.</p>

            </p>



            <p class="comment">
                <h3>Example</h3>
            </p>
            <div class="io-description">
            </div>

            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_connected">_connected</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_connectedVersion">_connectedVersion</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_counter">_counter</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_escapeHeaderValues">_escapeHeaderValues</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_lastServerActivityTS">_lastServerActivityTS</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_partialData">_partialData</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_pinger">_pinger</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_ponger">_ponger</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#_receiptWatchers">_receiptWatchers</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#_serverFrameHandlers">_serverFrameHandlers</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#_subscriptions">_subscriptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#connectHeaders">connectHeaders</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#debug">debug</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#disconnectHeaders">disconnectHeaders</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#forceBinaryWSFrames">forceBinaryWSFrames</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#heartbeatIncoming">heartbeatIncoming</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#heartbeatOutgoing">heartbeatOutgoing</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#logRawCommunication">logRawCommunication</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#maxWebSocketChunkSize">maxWebSocketChunkSize</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onConnect">onConnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onDisconnect">onDisconnect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onStompError">onStompError</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledFrame">onUnhandledFrame</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledMessage">onUnhandledMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onUnhandledReceipt">onUnhandledReceipt</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onWebSocketClose">onWebSocketClose</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onWebSocketError">onWebSocketError</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#splitLargeFrames">splitLargeFrames</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#stompVersions">stompVersions</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_cleanUp">_cleanUp</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_setupHeartbeat">_setupHeartbeat</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_transmit">_transmit</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#abort">abort</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#ack">ack</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#begin">begin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#commit">commit</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#configure">configure</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dispose">dispose</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#nack">nack</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#publish">publish</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#start">start</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#subscribe">subscribe</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#unsubscribe">unsubscribe</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#watchForReceipt">watchForReceipt</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#connectedVersion">connectedVersion</a>
                                </li>
                                <li>
                                    <a href="#connected">connected</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(_client: <a href="../classes/Client.html">Client</a>, _webSocket: WebSocket, config: <a href="../classes/StompConfig.html">StompConfig</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="82" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:82</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>_client</td>
                                                  
                                                        <td>
                                                                    <code><a href="../classes/Client.html" target="_self" >Client</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_webSocket</td>
                                                  
                                                        <td>
                                                                    <code>WebSocket</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>config</td>
                                                  
                                                        <td>
                                                                    <code><a href="../classes/StompConfig.html" target="_self" >StompConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_connected"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _connected</b>
                            <a href="#_connected"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:73</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_connectedVersion"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _connectedVersion</b>
                            <a href="#_connectedVersion"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:67</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_counter"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _counter</b>
                            <a href="#_counter"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="79" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:79</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_escapeHeaderValues"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _escapeHeaderValues</b>
                            <a href="#_escapeHeaderValues"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:78</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_lastServerActivityTS"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _lastServerActivityTS</b>
                            <a href="#_lastServerActivityTS"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="82" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:82</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_partialData"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _partialData</b>
                            <a href="#_partialData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:77</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_pinger"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _pinger</b>
                            <a href="#_pinger"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:80</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_ponger"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _ponger</b>
                            <a href="#_ponger"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:81</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_receiptWatchers"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                                <span class="modifier">Readonly</span>
                            _receiptWatchers</b>
                            <a href="#_receiptWatchers"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>literal type</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:76</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_serverFrameHandlers"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                                <span class="modifier">Readonly</span>
                            _serverFrameHandlers</b>
                            <a href="#_serverFrameHandlers"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>literal type</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{

    // [CONNECTED Frame](http://stomp.github.com/stomp-specification-1.2.html#CONNECTED_Frame)
    CONNECTED: (frame) &#x3D;&gt; {
      this.debug(&#x60;connected to server ${frame.headers.server}&#x60;);
      this._connected &#x3D; true;
      this._connectedVersion &#x3D; frame.headers.version;
      // STOMP version 1.2 needs header values to be escaped
      if (this._connectedVersion &#x3D;&#x3D;&#x3D; Versions.V1_2) {
        this._escapeHeaderValues &#x3D; true;
      }

      this._setupHeartbeat(frame.headers);
      this.onConnect(frame);
    },

    // [MESSAGE Frame](http://stomp.github.com/stomp-specification-1.2.html#MESSAGE)
    MESSAGE: (frame) &#x3D;&gt; {
      // the callback is registered when the client calls
      // &#x60;subscribe()&#x60;.
      // If there is no registered subscription for the received message,
      // the default &#x60;onUnhandledMessage&#x60; callback is used that the client can set.
      // This is useful for subscriptions that are automatically created
      // on the browser side (e.g. [RabbitMQ&#x27;s temporary
      // queues](http://www.rabbitmq.com/stomp.html)).
      const subscription &#x3D; frame.headers.subscription;
      const onReceive &#x3D; this._subscriptions[subscription] || this.onUnhandledMessage;

      // bless the frame to be a Message
      const message &#x3D; frame as IMessage;

      const client &#x3D; this;
      const messageId &#x3D; this._connectedVersion &#x3D;&#x3D;&#x3D; Versions.V1_2 ? message.headers.ack : message.headers[&#x27;message-id&#x27;];

      // add &#x60;ack()&#x60; and &#x60;nack()&#x60; methods directly to the returned frame
      // so that a simple call to &#x60;message.ack()&#x60; can acknowledge the message.
      message.ack &#x3D; (headers: StompHeaders &#x3D; {}): void &#x3D;&gt; {
        return client.ack(messageId, subscription, headers);
      };
      message.nack &#x3D; (headers: StompHeaders &#x3D; {}): void &#x3D;&gt; {
        return client.nack(messageId, subscription, headers);
      };
      onReceive(message);
    },

    // [RECEIPT Frame](http://stomp.github.com/stomp-specification-1.2.html#RECEIPT)
    RECEIPT: (frame) &#x3D;&gt; {
      const callback &#x3D; this._receiptWatchers[frame.headers[&#x27;receipt-id&#x27;]];
      if (callback) {
        callback(frame);
        // Server will acknowledge only once, remove the callback
        delete this._receiptWatchers[frame.headers[&#x27;receipt-id&#x27;]];
      } else {
        this.onUnhandledReceipt(frame);
      }
    },

    // [ERROR Frame](http://stomp.github.com/stomp-specification-1.2.html#ERROR)
    ERROR: (frame) &#x3D;&gt; {
      this.onStompError(frame);
    }
  }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="161" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:161</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_subscriptions"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                                <span class="modifier">Readonly</span>
                            _subscriptions</b>
                            <a href="#_subscriptions"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>literal type</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:75</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="connectHeaders"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            connectHeaders</b>
                            <a href="#connectHeaders"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:32</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="debug"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            debug</b>
                            <a href="#debug"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#debugFnType" target="_self" >debugFnType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:28</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="disconnectHeaders"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            disconnectHeaders</b>
                            <a href="#disconnectHeaders"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:34</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="forceBinaryWSFrames"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            forceBinaryWSFrames</b>
                            <a href="#forceBinaryWSFrames"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:62</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="heartbeatIncoming"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            heartbeatIncoming</b>
                            <a href="#heartbeatIncoming"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:36</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="heartbeatOutgoing"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            heartbeatOutgoing</b>
                            <a href="#heartbeatOutgoing"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:38</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="logRawCommunication"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            logRawCommunication</b>
                            <a href="#logRawCommunication"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:56</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="maxWebSocketChunkSize"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            maxWebSocketChunkSize</b>
                            <a href="#maxWebSocketChunkSize"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:60</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onConnect"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onConnect</b>
                            <a href="#onConnect"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:46</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onDisconnect"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onDisconnect</b>
                            <a href="#onDisconnect"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:48</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onStompError"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onStompError</b>
                            <a href="#onStompError"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:50</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onUnhandledFrame"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onUnhandledFrame</b>
                            <a href="#onUnhandledFrame"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:44</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onUnhandledMessage"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onUnhandledMessage</b>
                            <a href="#onUnhandledMessage"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#messageCallbackType" target="_self" >messageCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:40</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onUnhandledReceipt"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onUnhandledReceipt</b>
                            <a href="#onUnhandledReceipt"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:42</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onWebSocketClose"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onWebSocketClose</b>
                            <a href="#onWebSocketClose"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#closeEventCallbackType" target="_self" >closeEventCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="52" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:52</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onWebSocketError"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            onWebSocketError</b>
                            <a href="#onWebSocketError"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../miscellaneous/typealiases.html#wsErrorCallbackType" target="_self" >wsErrorCallbackType</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:54</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="splitLargeFrames"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            splitLargeFrames</b>
                            <a href="#splitLargeFrames"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:58</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="stompVersions"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            stompVersions</b>
                            <a href="#stompVersions"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/Versions.html" target="_self" >Versions</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:30</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_cleanUp"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _cleanUp
                            </b>
                            <a href="#_cleanUp"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>_cleanUp()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="321" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:321</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_setupHeartbeat"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _setupHeartbeat
                            </b>
                            <a href="#_setupHeartbeat"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>_setupHeartbeat(headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="224" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:224</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_transmit"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _transmit
                            </b>
                            <a href="#_transmit"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>_transmit(params: literal type)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="259" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:259</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>params</td>
                                                        <td>
                                                                    <code>literal type</code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="abort"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            abort
                            </b>
                            <a href="#abort"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>abort(transactionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="402" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:402</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>transactionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ack"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            ack
                            </b>
                            <a href="#ack"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>ack(messageId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, subscriptionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="410" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:410</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>messageId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>subscriptionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="begin"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            begin
                            </b>
                            <a href="#begin"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>begin(transactionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="375" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:375</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>transactionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="../interfaces/ITransaction.html" target="_self" >ITransaction</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="commit"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            commit
                            </b>
                            <a href="#commit"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>commit(transactionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="394" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:394</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>transactionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="configure"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            configure
                            </b>
                            <a href="#configure"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>configure(conf: <a href="../classes/StompConfig.html">StompConfig</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="103" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:103</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>conf</td>
                                                        <td>
                                                                    <code><a href="../classes/StompConfig.html" target="_self" >StompConfig</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dispose"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            dispose
                            </b>
                            <a href="#dispose"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>dispose()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="296" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:296</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="nack"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            nack
                            </b>
                            <a href="#nack"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>nack(messageId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, subscriptionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="422" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:422</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>messageId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>subscriptionId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="publish"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            publish
                            </b>
                            <a href="#publish"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>publish(params: <a href="../interfaces/IPublishParams.html">IPublishParams</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="332" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:332</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>params</td>
                                                        <td>
                                                                    <code><a href="../interfaces/IPublishParams.html" target="_self" >IPublishParams</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="start"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            start
                            </b>
                            <a href="#start"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>start()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="108" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:108</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="subscribe"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            subscribe
                            </b>
                            <a href="#subscribe"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>subscribe(destination: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callback: <a href="../undefineds/messageCallbackType.html">messageCallbackType</a>, headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="348" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:348</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>destination</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>callback</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/typealiases.html#messageCallbackType" target="_self" >messageCallbackType</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="../classes/StompSubscription.html" target="_self" >StompSubscription</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="unsubscribe"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            unsubscribe
                            </b>
                            <a href="#unsubscribe"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>unsubscribe(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../classes/StompHeaders.html">StompHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="367" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:367</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>id</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="watchForReceipt"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            watchForReceipt
                            </b>
                            <a href="#watchForReceipt"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>watchForReceipt(receiptId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callback: <a href="../undefineds/frameCallbackType.html">frameCallbackType</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="344" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:344</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>receiptId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                                <tr>
                                                        <td>callback</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/typealiases.html#frameCallbackType" target="_self" >frameCallbackType</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>






            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="connectedVersion"></a>
                        <span class="name"><b>connectedVersion</b><a href="#connectedVersion"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>connectedVersion()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="64" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:64</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="connected"></a>
                        <span class="name"><b>connected</b><a href="#connected"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>connected()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="69" class="link-to-prism">consolidated/stompjs/src/stomp-handler.ts:69</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {BYTE} from &#x27;./byte&#x27;;
import {Client} from &#x27;./client&#x27;;
import {FrameImpl} from &#x27;./frame-impl&#x27;;
import {IMessage} from &#x27;./i-message&#x27;;
import {ITransaction} from &#x27;./i-transaction&#x27;;
import {Parser} from &#x27;./parser&#x27;;
import {StompConfig} from &#x27;./stomp-config&#x27;;
import {StompHeaders} from &#x27;./stomp-headers&#x27;;
import {StompSubscription} from &#x27;./stomp-subscription&#x27;;
import {
  closeEventCallbackType,
  debugFnType,
  frameCallbackType,
  IPublishParams,
  messageCallbackType,
  wsErrorCallbackType
} from &#x27;./types&#x27;;
import {Versions} from &#x27;./versions&#x27;;

/**
 * The STOMP protocol handler
 *
 * Part of &#x60;@stomp/stompjs&#x60;.
 *
 * @internal
 */
export class StompHandler {
  public debug: debugFnType;

  public stompVersions: Versions;

  public connectHeaders: StompHeaders;

  public disconnectHeaders: StompHeaders;

  public heartbeatIncoming: number;

  public heartbeatOutgoing: number;

  public onUnhandledMessage: messageCallbackType;

  public onUnhandledReceipt: frameCallbackType;

  public onUnhandledFrame: frameCallbackType;

  public onConnect: frameCallbackType;

  public onDisconnect: frameCallbackType;

  public onStompError: frameCallbackType;

  public onWebSocketClose: closeEventCallbackType;

  public onWebSocketError: wsErrorCallbackType;

  public logRawCommunication: boolean;

  public splitLargeFrames: boolean;

  public maxWebSocketChunkSize: number;

  public forceBinaryWSFrames: boolean;

  get connectedVersion(): string {
    return this._connectedVersion;
  }
  private _connectedVersion: string;

  get connected(): boolean {
    return this._connected;
  }

  private _connected: boolean;

  private readonly _subscriptions: { [key: string]: messageCallbackType };
  private readonly _receiptWatchers: { [key: string]: frameCallbackType };
  private _partialData: string;
  private _escapeHeaderValues: boolean;
  private _counter: number;
  private _pinger: any;
  private _ponger: any;
  private _lastServerActivityTS: number;

  constructor(private _client: Client, private _webSocket: WebSocket, config: StompConfig &#x3D; {}) {
    // used to index subscribers
    this._counter &#x3D; 0;

    // subscription callbacks indexed by subscriber&#x27;s ID
    this._subscriptions &#x3D; {};

    // receipt-watchers indexed by receipts-ids
    this._receiptWatchers &#x3D; {};

    this._partialData &#x3D; &#x27;&#x27;;

    this._escapeHeaderValues &#x3D; false;

    this._lastServerActivityTS &#x3D; Date.now();

    this.configure(config);
  }

  public configure(conf: StompConfig): void {
    // bulk assign all properties to this
    (Object as any).assign(this, conf);
  }

  public start(): void {
    const parser &#x3D; new Parser(
      // On Frame
      (rawFrame) &#x3D;&gt; {
        const frame &#x3D; FrameImpl.fromRawFrame(rawFrame, this._escapeHeaderValues);

        // if this.logRawCommunication is set, the rawChunk is logged at this._webSocket.onmessage
        if (!this.logRawCommunication) {
          this.debug(&#x60;&lt;&lt;&lt; ${frame}&#x60;);
        }

        const serverFrameHandler &#x3D; this._serverFrameHandlers[frame.command] || this.onUnhandledFrame;
        serverFrameHandler(frame);
      },
      // On Incoming Ping
      () &#x3D;&gt; {
        this.debug(&#x27;&lt;&lt;&lt; PONG&#x27;);
      }
    );

    this._webSocket.onmessage &#x3D; (evt: any) &#x3D;&gt; {
      this.debug(&#x27;Received data&#x27;);
      this._lastServerActivityTS &#x3D; Date.now();

      if (this.logRawCommunication) {
        const rawChunkAsString &#x3D; (evt.data instanceof ArrayBuffer) ? new TextDecoder().decode(evt.data) : evt.data;
        this.debug(&#x60;&lt;&lt;&lt; ${rawChunkAsString}&#x60;);
      }

      parser.parseChunk(evt.data);
    };

    this._webSocket.onclose &#x3D; (closeEvent: CloseEvent): void &#x3D;&gt; {
      this.debug(&#x60;Connection closed to ${this._webSocket.url}&#x60;);
      this.onWebSocketClose(closeEvent);
      this._cleanUp();
    };

    this._webSocket.onerror &#x3D; (errorEvent: Event): void &#x3D;&gt; {
      this.onWebSocketError(errorEvent);
    };

    this._webSocket.onopen &#x3D; () &#x3D;&gt; {
      // Clone before updating
      const connectHeaders &#x3D; (Object as any).assign({}, this.connectHeaders);

      this.debug(&#x27;Web Socket Opened...&#x27;);
      connectHeaders[&#x27;accept-version&#x27;] &#x3D; this.stompVersions.supportedVersions();
      connectHeaders[&#x27;heart-beat&#x27;] &#x3D; [this.heartbeatOutgoing, this.heartbeatIncoming].join(&#x27;,&#x27;);
      this._transmit({command: &#x27;CONNECT&#x27;, headers: connectHeaders});
    };
  }

  private readonly _serverFrameHandlers: { [key: string]: frameCallbackType } &#x3D; {

    // [CONNECTED Frame](http://stomp.github.com/stomp-specification-1.2.html#CONNECTED_Frame)
    CONNECTED: (frame) &#x3D;&gt; {
      this.debug(&#x60;connected to server ${frame.headers.server}&#x60;);
      this._connected &#x3D; true;
      this._connectedVersion &#x3D; frame.headers.version;
      // STOMP version 1.2 needs header values to be escaped
      if (this._connectedVersion &#x3D;&#x3D;&#x3D; Versions.V1_2) {
        this._escapeHeaderValues &#x3D; true;
      }

      this._setupHeartbeat(frame.headers);
      this.onConnect(frame);
    },

    // [MESSAGE Frame](http://stomp.github.com/stomp-specification-1.2.html#MESSAGE)
    MESSAGE: (frame) &#x3D;&gt; {
      // the callback is registered when the client calls
      // &#x60;subscribe()&#x60;.
      // If there is no registered subscription for the received message,
      // the default &#x60;onUnhandledMessage&#x60; callback is used that the client can set.
      // This is useful for subscriptions that are automatically created
      // on the browser side (e.g. [RabbitMQ&#x27;s temporary
      // queues](http://www.rabbitmq.com/stomp.html)).
      const subscription &#x3D; frame.headers.subscription;
      const onReceive &#x3D; this._subscriptions[subscription] || this.onUnhandledMessage;

      // bless the frame to be a Message
      const message &#x3D; frame as IMessage;

      const client &#x3D; this;
      const messageId &#x3D; this._connectedVersion &#x3D;&#x3D;&#x3D; Versions.V1_2 ? message.headers.ack : message.headers[&#x27;message-id&#x27;];

      // add &#x60;ack()&#x60; and &#x60;nack()&#x60; methods directly to the returned frame
      // so that a simple call to &#x60;message.ack()&#x60; can acknowledge the message.
      message.ack &#x3D; (headers: StompHeaders &#x3D; {}): void &#x3D;&gt; {
        return client.ack(messageId, subscription, headers);
      };
      message.nack &#x3D; (headers: StompHeaders &#x3D; {}): void &#x3D;&gt; {
        return client.nack(messageId, subscription, headers);
      };
      onReceive(message);
    },

    // [RECEIPT Frame](http://stomp.github.com/stomp-specification-1.2.html#RECEIPT)
    RECEIPT: (frame) &#x3D;&gt; {
      const callback &#x3D; this._receiptWatchers[frame.headers[&#x27;receipt-id&#x27;]];
      if (callback) {
        callback(frame);
        // Server will acknowledge only once, remove the callback
        delete this._receiptWatchers[frame.headers[&#x27;receipt-id&#x27;]];
      } else {
        this.onUnhandledReceipt(frame);
      }
    },

    // [ERROR Frame](http://stomp.github.com/stomp-specification-1.2.html#ERROR)
    ERROR: (frame) &#x3D;&gt; {
      this.onStompError(frame);
    }
  };

  private _setupHeartbeat(headers: StompHeaders): void {
    if ((headers.version !&#x3D;&#x3D; Versions.V1_1 &amp;&amp; headers.version !&#x3D;&#x3D; Versions.V1_2)) {
      return;
    }

    // heart-beat header received from the server looks like:
    //
    //     heart-beat: sx, sy
    const [serverOutgoing, serverIncoming] &#x3D; (headers[&#x27;heart-beat&#x27;]).split(&#x27;,&#x27;).map((v: string) &#x3D;&gt; parseInt(v, 10));

    if ((this.heartbeatOutgoing !&#x3D;&#x3D; 0) &amp;&amp; (serverIncoming !&#x3D;&#x3D; 0)) {
      const ttl: number &#x3D; Math.max(this.heartbeatOutgoing, serverIncoming);
      this.debug(&#x60;send PING every ${ttl}ms&#x60;);
      this._pinger &#x3D; setInterval(() &#x3D;&gt; {
        if (this._webSocket.readyState &#x3D;&#x3D;&#x3D; WebSocket.OPEN) {
          this._webSocket.send(BYTE.LF);
          this.debug(&#x27;&gt;&gt;&gt; PING&#x27;);
        }
      }, ttl);
    }

    if ((this.heartbeatIncoming !&#x3D;&#x3D; 0) &amp;&amp; (serverOutgoing !&#x3D;&#x3D; 0)) {
      const ttl: number &#x3D; Math.max(this.heartbeatIncoming, serverOutgoing);
      this.debug(&#x60;check PONG every ${ttl}ms&#x60;);
      this._ponger &#x3D; setInterval(() &#x3D;&gt; {
        const delta &#x3D; Date.now() - this._lastServerActivityTS;
        // We wait twice the TTL to be flexible on window&#x27;s setInterval calls
        if (delta &gt; (ttl * 2)) {
          this.debug(&#x60;did not receive server activity for the last ${delta}ms&#x60;);
          this._webSocket.close();
        }
      }, ttl);
    }
  }

  private _transmit(params: { command: string, headers?: StompHeaders,
                              body?: string, binaryBody?: Uint8Array, skipContentLengthHeader?: boolean }): void {
    const {command, headers, body, binaryBody, skipContentLengthHeader} &#x3D; params;
    const frame &#x3D; new FrameImpl({
      command,
      headers,
      body,
      binaryBody,
      escapeHeaderValues: this._escapeHeaderValues,
      skipContentLengthHeader
    });

    let rawChunk &#x3D; frame.serialize();

    if (this.logRawCommunication) {
      this.debug(&#x60;&gt;&gt;&gt; ${rawChunk}&#x60;);
    } else {
      this.debug(&#x60;&gt;&gt;&gt; ${frame}&#x60;);
    }

    if (this.forceBinaryWSFrames &amp;&amp; typeof rawChunk &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
      rawChunk &#x3D; new TextEncoder().encode(rawChunk);
    }

    if (typeof rawChunk !&#x3D;&#x3D; &#x27;string&#x27; || !this.splitLargeFrames) {
      this._webSocket.send(rawChunk);
    } else {
      let out &#x3D; rawChunk as string;
      while (out.length &gt; 0) {
        const chunk &#x3D; out.substring(0, this.maxWebSocketChunkSize);
        out &#x3D; out.substring(this.maxWebSocketChunkSize);
        this._webSocket.send(chunk);
        this.debug(&#x60;chunk sent &#x3D; ${chunk.length}, remaining &#x3D; ${out.length}&#x60;);
      }
    }
  }

  public dispose(): void {
    if (this.connected) {
      try {
        // clone before updating
        const disconnectHeaders &#x3D; (Object as any).assign({}, this.disconnectHeaders);

        if (!disconnectHeaders.receipt) {
          disconnectHeaders.receipt &#x3D; &#x60;close-${this._counter++}&#x60;;
        }
        this.watchForReceipt(disconnectHeaders.receipt, (frame) &#x3D;&gt; {
          this._webSocket.close();
          this._cleanUp();
          this.onDisconnect(frame);
        });
        this._transmit({command: &#x27;DISCONNECT&#x27;, headers: disconnectHeaders});
      } catch (error) {
        this.debug(&#x60;Ignoring error during disconnect ${error}&#x60;);
      }
    } else {
      if (this._webSocket.readyState &#x3D;&#x3D;&#x3D; WebSocket.CONNECTING || this._webSocket.readyState &#x3D;&#x3D;&#x3D; WebSocket.OPEN) {
        this._webSocket.close();
      }
    }
  }

  private _cleanUp() {
    this._connected &#x3D; false;

    if (this._pinger) {
      clearInterval(this._pinger);
    }
    if (this._ponger) {
      clearInterval(this._ponger);
    }
  }

  public publish(params: IPublishParams): void {
    const {destination, headers, body, binaryBody, skipContentLengthHeader} &#x3D; params;
    const hdrs: StompHeaders &#x3D; (Object as any).assign({destination}, headers);
    this._transmit({
      command: &#x27;SEND&#x27;,
      headers: hdrs,
      body,
      binaryBody,
      skipContentLengthHeader
    });
  }

  public watchForReceipt(receiptId: string, callback: frameCallbackType): void {
    this._receiptWatchers[receiptId] &#x3D; callback;
  }

  public subscribe(destination: string, callback: messageCallbackType, headers: StompHeaders &#x3D; {}): StompSubscription {
    headers &#x3D; (Object as any).assign({}, headers);

    if (!headers.id) {
      headers.id &#x3D; &#x60;sub-${this._counter++}&#x60;;
    }
    headers.destination &#x3D; destination;
    this._subscriptions[headers.id] &#x3D; callback;
    this._transmit({command: &#x27;SUBSCRIBE&#x27;, headers});
    const client &#x3D; this;
    return {
      id: headers.id,

      unsubscribe(hdrs) {
        return client.unsubscribe(headers.id, hdrs);
      }
    };
  }

  public unsubscribe(id: string, headers: StompHeaders &#x3D; {}): void {
    headers &#x3D; (Object as any).assign({}, headers);

    delete this._subscriptions[id];
    headers.id &#x3D; id;
    this._transmit({command: &#x27;UNSUBSCRIBE&#x27;, headers});
  }

  public begin(transactionId: string): ITransaction {
    const txId &#x3D; transactionId || (&#x60;tx-${this._counter++}&#x60;);
    this._transmit({
      command: &#x27;BEGIN&#x27;, headers: {
        transaction: txId
      }
    });
    const client &#x3D; this;
    return {
      id: txId,
      commit(): void {
        client.commit(txId);
      },
      abort(): void {
        client.abort(txId);
      }
    };
  }

  public commit(transactionId: string): void {
    this._transmit({
      command: &#x27;COMMIT&#x27;, headers: {
        transaction: transactionId
      }
    });
  }

  public abort(transactionId: string): void {
    this._transmit({
      command: &#x27;ABORT&#x27;, headers: {
        transaction: transactionId
      }
    });
  }

  public ack(messageId: string, subscriptionId: string, headers: StompHeaders &#x3D; {}): void {
    headers &#x3D; (Object as any).assign({}, headers);

    if (this._connectedVersion &#x3D;&#x3D;&#x3D; Versions.V1_2) {
      headers.id &#x3D; messageId;
    } else {
      headers[&#x27;message-id&#x27;] &#x3D; messageId;
    }
    headers.subscription &#x3D; subscriptionId;
    this._transmit({command: &#x27;ACK&#x27;, headers});
  }

  public nack(messageId: string, subscriptionId: string, headers: StompHeaders &#x3D; {}): void {
    headers &#x3D; (Object as any).assign({}, headers);

    if (this._connectedVersion &#x3D;&#x3D;&#x3D; Versions.V1_2) {
      headers.id &#x3D; messageId;
    } else {
      headers[&#x27;message-id&#x27;] &#x3D; messageId;
    }
    headers.subscription &#x3D; subscriptionId;
    return this._transmit({command: &#x27;NACK&#x27;, headers});
  }

}
</code></pre>
    </div>
</div>







                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'StompHandler.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
