<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>stompjs@7.2.0, rx-stomp@2.1.0</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
        <link rel="stylesheet" href="../styles/postmark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">stompjs@7.2.0, rx-stomp@2.1.0</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Classes</li>
  <li >RxStomp</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>consolidated/rx-stomp/src/rx-stomp.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Main RxJS-friendly STOMP client for browsers and Node.js.</p>
<p>RxStomp wraps <a href="../classes/Client.html">Client</a> from @stomp/stompjs and exposes key interactions
(connection lifecycle, subscriptions, frames, and errors) as RxJS streams.</p>
<p>What RxStomp adds:</p>
<ul>
<li>Simple, observable-based API for consuming messages.</li>
<li>Connection lifecycle as BehaviorSubjects/Observables for easy UI binding.</li>
<li>Transparent reconnection support (configurable through <a href="../classes/RxStompConfig.html">RxStompConfig</a>).</li>
<li>Convenience helpers for receipts and server headers.</li>
</ul>
<p>Typical lifecycle:</p>
<ul>
<li>Instantiate: <code>const rxStomp = new RxStomp();</code></li>
<li>Configure: <code>rxStomp.configure({...});</code></li>
<li>Activate: <code>rxStomp.activate();</code></li>
<li>Consume: <code>rxStomp.watch({ destination: &#39;/topic/foo&#39; }).subscribe(...)</code></li>
<li>Publish: <code>rxStomp.publish({ destination: &#39;/topic/foo&#39;, body: &#39;...&#39; })</code></li>
<li>Deactivate when done: <code>await rxStomp.deactivate();</code></li>
</ul>
<p>Notes:</p>
<ul>
<li>Except for <code>beforeConnect</code>, all callbacks from @stomp/stompjs are exposed
as RxJS Subjects/Observables here.</li>
<li>RxStomp tries to transparently handle connection failures.</li>
</ul>
<p>Part of <code>@stomp/rx-stomp</code>.</p>

            </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#connected$" >connected$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#connectionState$" >connectionState$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#serverHeaders$" >serverHeaders$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#stompErrors$" >stompErrors$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#unhandledFrame$" >unhandledFrame$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#unhandledMessage$" >unhandledMessage$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#unhandledReceipts$" >unhandledReceipts$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#webSocketErrors$" >webSocketErrors$</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#activate" >activate</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#asyncReceipt" >asyncReceipt</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#configure" >configure</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#connected" >connected</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Async</span>
                                <a href="#deactivate" >deactivate</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#publish" >publish</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#watch" >watch</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#watch" >watch</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#watch" >watch</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#watchForReceipt" >watchForReceipt</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#stompClient" >stompClient</a>
                                </li>
                                <li>
                                    <a href="#active" >active</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                                <span class="modifier">Public</span>
                        <code>constructor(stompClient?: <a href="../classess/Client.html" target="_self">Client</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="179" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:179</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructor</p>
<p>will be created internally.</p>
<p>Tip: Injecting a pre-configured Client is useful for advanced customization or testing.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>stompClient</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classess/Client.html" target="_self" >Client</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            Yes
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Optional existing <a href="../classes/Client.html">Client</a> to wrap. If omitted, a new instance
will be created internally.</p>
<p>Tip: Injecting a pre-configured Client is useful for advanced customization or testing.</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connected$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>connected$</b></span>
                        <a href="#connected$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/enumerations.html#RxStompState" target="_self" >Observable&lt;RxStompState&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:73</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Emits whenever a connection is established (including re-connections).</p>
<ul>
<li>If already connected, it emits immediately on subscription.</li>
<li>The emitted value is always <code>RxStompState.OPEN</code>.</li>
<li>Useful as a trigger to (re)establish subscriptions or flush local queues.</li>
</ul>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connectionState$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>connectionState$</b></span>
                        <a href="#connectionState$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/enumerations.html#RxStompState" target="_self" >BehaviorSubject&lt;RxStompState&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="64" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:64</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Connection state as a BehaviorSubject.</p>
<ul>
<li>Emits immediately with the current state (initially <code>CLOSED</code>).</li>
<li>Use this for binding UI widgets or guards based on connection status.</li>
<li>State values are from <a href="../miscellaneous/enumerations.html#RxStompState">RxStompState</a>.</li>
</ul>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="serverHeaders$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>serverHeaders$</b></span>
                        <a href="#serverHeaders$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Observable&lt;StompHeaders&gt;</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="90" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:90</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Provides headers from the most recent CONNECTED frame from the broker.</p>
<ul>
<li>Emits on every successful (re)connection.</li>
<li>If already connected, emits immediately on subscription.</li>
<li>Typical headers include <code>server</code>, <code>session</code>, and negotiated <code>version</code>.</li>
</ul>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stompErrors$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>stompErrors$</b></span>
                        <a href="#stompErrors$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/IFrame.html" target="_self" >Subject&lt;IFrame&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="138" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:138</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Streams all ERROR frames from the broker.</p>
<p>Most brokers will close the connection after an ERROR frame.</p>
<p>Emits raw <a href="../interfaces/IFrame.html">IFrame</a> instances.</p>
<p>Maps to: <a href="../classes/Client.html#onStompError">Client#onStompError</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unhandledFrame$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>unhandledFrame$</b></span>
                        <a href="#unhandledFrame$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/IFrame.html" target="_self" >Subject&lt;IFrame&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="116" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:116</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Streams any unhandled non-MESSAGE, non-ERROR frames.</p>
<p>Normally unused unless interacting with non-compliant brokers or testing.</p>
<p>Emits raw <a href="../interfaces/IFrame.html">IFrame</a> instances.</p>
<p>Maps to: <a href="../classes/Client.html#onUnhandledFrame">Client#onUnhandledFrame</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unhandledMessage$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>unhandledMessage$</b></span>
                        <a href="#unhandledMessage$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/IMessage.html" target="_self" >Subject&lt;IMessage&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="105" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:105</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Streams any unhandled MESSAGE frames.</p>
<p>Use this to receive:</p>
<ul>
<li>(RabbitMQ specific) Messages delivered to temporary or auto-named queues.</li>
<li>Stray messages arriving during unsubscribe processing.</li>
</ul>
<p>Emits raw <a href="../interfaces/IMessage.html">IMessage</a> instances.</p>
<p>Maps to: <a href="../classes/Client.html#onUnhandledMessage">Client#onUnhandledMessage</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unhandledReceipts$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>unhandledReceipts$</b></span>
                        <a href="#unhandledReceipts$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/IFrame.html" target="_self" >Subject&lt;IFrame&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="127" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:127</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Streams any RECEIPT frames that do not match a watcher set via asyncReceipt helpers.</p>
<p>Prefer <a href="asyncReceipt">asyncReceipt</a> patterns where possible; fall back to this for low-level needs.</p>
<p>Emits raw <a href="../interfaces/IFrame.html">IFrame</a> instances.</p>
<p>Maps to: <a href="../classes/Client.html#onUnhandledReceipt">Client#onUnhandledReceipt</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="webSocketErrors$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>webSocketErrors$</b></span>
                        <a href="#webSocketErrors$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subject&lt;Event&gt;</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="147" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:147</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Streams errors emitted by the underlying WebSocket.</p>
<p>Emits a DOM <a href="Event">Event</a>.</p>
<p>Maps to: <a href="../classes/Client.html#onWebSocketError">Client#onWebSocketError</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="activate"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>activate</b></span>
                        <a href="#activate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>activate()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="307"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:307</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Activate the client and initiate connection attempts.</p>
<ul>
<li>Emits <code>CONNECTING</code> followed by <code>OPEN</code> on successful connect.</li>
<li>Automatically reconnects, according to configuration.</li>
</ul>
<p>To stop auto-reconnect and close the connection, call <a href="deactivate">deactivate</a>.</p>
<p>Maps to: <a href="../classes/Client.html#activate">Client#activate</a>.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="asyncReceipt"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>asyncReceipt</b></span>
                        <a href="#asyncReceipt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>asyncReceipt(receiptId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="652"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:652</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Wait for a broker RECEIPT matching the provided receipt-id.</p>
<p>How it works</p>
<ul>
<li>To request an acknowledgment for an operation (e.g., publish, subscribe, unsubscribe),
include a <code>receipt</code> header in that operation with a unique value.</li>
<li>A compliant broker will respond with a <code>RECEIPT</code> frame whose <code>receipt-id</code> header equals
the value you sent in the <code>receipt</code> header.</li>
<li>This method returns a Promise that resolves with the matching <a href="../interfaces/IFrame.html">IFrame</a> when the
corresponding <code>RECEIPT</code> arrives.</li>
</ul>
<p>Receipt identifiers</p>
<ul>
<li>Must be unique per request; generating a UUID or monotonic sequence is typical.</li>
</ul>
<p>Notes</p>
<ul>
<li>The Promise resolves once for the first matching receipt and then completes.</li>
<li>No timeout is enforced by default; to add one, wrap with your own timeout logic (e.g., Promise.race).</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-javascript">// Publish with receipt tracking
const receiptId = randomText();
rxStomp.publish({
  destination: &quot;/topic/special&quot;,
  headers: { receipt: receiptId },
  body: msg
});
const receiptFrame = await rxStomp.asyncReceipt(receiptId); // resolves with the RECEIPT frame</code></pre></div><p>Maps to: <a href="../classes/Client.html#watchForReceipt">Client#watchForReceipt</a></p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>receiptId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IFrame.html" target="_self" >Promise&lt;IFrame&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="configure"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>configure</b></span>
                        <a href="#configure"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>configure(rxStompConfig: <a href="../classess/RxStompConfig.html" target="_self">RxStompConfig</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="274"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:274</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Apply configuration to the underlying STOMP client.</p>
<ul>
<li>Safe to call multiple times; each call merges with existing configuration.</li>
<li><code>beforeConnect</code> and <code>correlateErrors</code> are handled by RxStomp and removed
from the object passed to the underlying <a href="../classes/Client.html">Client</a>.</li>
<li>Unless otherwise documented by @stomp/stompjs, most options take effect
on the next (re)connection.</li>
</ul>
<p>Example:</p>
<div><pre class="line-numbers"><code class="language-typescript">const rxStomp = new RxStomp();
rxStomp.configure({
  brokerURL: &#39;ws://127.0.0.1:15674/ws&#39;,
  connectHeaders: {
    login: &#39;guest&#39;,
    passcode: &#39;guest&#39;
    },
  heartbeatIncoming: 0,
  heartbeatOutgoing: 20000,
  reconnectDelay: 200,
  debug: (msg) =&gt; console.log(new Date(), msg),
});
rxStomp.activate();</code></pre></div><p>Maps to: <a href="../classes/Client.html#configure">Client#configure</a>.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>rxStompConfig</td>
                                    <td>
                                                <code><a href="../classess/RxStompConfig.html" target="_self" >RxStompConfig</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connected"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>connected</b></span>
                        <a href="#connected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>connected()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="377"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:377</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Whether the broker connection is currently OPEN.</p>
<p>Equivalent to checking <code>connectionState$.value === RxStompState.OPEN</code>.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deactivate"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span class="modifier">Async</span>
                        <span ><b>deactivate</b></span>
                        <a href="#deactivate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deactivate(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="362"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:362</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Gracefully disconnect (if connected) and stop auto-reconnect.</p>
<p>Behavior:</p>
<ul>
<li>Emits <code>CLOSING</code> then <code>CLOSED</code>.</li>
<li>If no active WebSocket exists, resolves immediately.</li>
<li>If a WebSocket is active, resolves after it is properly closed.</li>
</ul>
<p>Experimental:</p>
<ul>
<li><code>options.force === true</code> immediately discards the underlying connection.
See <a href="../classes/Client.html#deactivate">Client#deactivate</a>.</li>
</ul>
<p>You can call <a href="activate">activate</a> again after awa.</p>
<p>Maps to: <a href="../classes/Client.html#deactivate">Client#deactivate</a>.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="publish"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>publish</b></span>
                        <a href="#publish"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>publish(parameters: <a href="../interfaces/IRxStompPublishParams.html" target="_self">IRxStompPublishParams</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="442"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:442</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Publish a message to a destination on the broker.</p>
<p>Destination semantics and supported headers are broker-specific; consult your broker’s docs
for naming conventions (queues, topics, exchanges) and header support.</p>
<p>Payload</p>
<ul>
<li>Text: provide <code>body</code> as a string. Convert non-strings yourself (e.g., JSON.stringify).</li>
<li>Binary: provide <code>binaryBody</code> as a Uint8Array and set an appropriate <code>content-type</code> header.
Some brokers may require explicit configuration for binary frames.</li>
</ul>
<p>Frame sizing and content-length</p>
<ul>
<li>For text messages, a <code>content-length</code> header is added by default.
Set <code>skipContentLengthHeader: true</code> to omit it for text frames.</li>
<li>For binary messages, <code>content-length</code> is always included.</li>
</ul>
<p>Caution</p>
<ul>
<li>If a message body contains NULL octets and the <code>content-length</code> header is omitted,
many brokers will report an error and disconnect.</li>
</ul>
<p>Offline/queueing behavior</p>
<ul>
<li>If not connected, messages are queued locally and sent upon reconnection.</li>
<li>To disable this behavior, set <code>retryIfDisconnected: false</code> in the parameters.
In that case, this method throws if it cannot send immediately.</li>
</ul>
<p>Related</p>
<ul>
<li>Broker acknowledgment (receipt) can be tracked using <code>receipt</code> headers together with <a href="asyncReceipt">asyncReceipt</a>.</li>
</ul>
<p>Maps to: <a href="../classes/Client.html#publish">Client#publish</a></p>
<p>See: <a href="../interfaces/IRxStompPublishParams.html">IRxStompPublishParams</a> and <a href="../interfaces/IPublishParams.html">IPublishParams</a></p>
<p>Examples:</p>
<div><pre class="line-numbers"><code class="language-javascript">// Text with custom headers
rxStomp.publish({ destination: &quot;/queue/test&quot;, headers: { priority: 9 }, body: &quot;Hello, STOMP&quot; });

// Minimal (destination is required)
rxStomp.publish({ destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot; });

// Skip content-length header for text
rxStomp.publish({ destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot;, skipContentLengthHeader: true });

// Binary payload
const binaryData = generateBinaryData(); // Uint8Array
rxStomp.publish({
  destination: &quot;/topic/special&quot;,
  binaryBody: binaryData,
  headers: { &quot;content-type&quot;: &quot;application/octet-stream&quot; }
});</code></pre></div></div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>parameters</td>
                                    <td>
                                                <code><a href="../interfaces/IRxStompPublishParams.html" target="_self" >IRxStompPublishParams</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="watch"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>watch</b></span>
                        <a href="#watch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>watch(opts: <a href="../interfaces/IWatchParams.html" target="_self">IWatchParams</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="495"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:495</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribe to a destination and receive messages as an RxJS Observable.</p>
<p>Connection resilience</p>
<ul>
<li>Safe to call when disconnected; it will subscribe upon the next connection.</li>
<li>On reconnect, it re-subscribes automatically to the same destination unless
<code>subscribeOnlyOnce: true</code> is specified.</li>
<li>Messages may be missed during broker-side reconnect windows (typical for STOMP brokers).</li>
</ul>
<p>Options</p>
<ul>
<li>Provide an <a href="../interfaces/IWatchParams.html">IWatchParams</a> object to set subscription (<code>subHeaders</code>) and unsubscription
(<code>unsubHeaders</code>) headers, and to control resubscription behavior (<code>subscribeOnlyOnce</code>).</li>
</ul>
<p>Returns</p>
<ul>
<li>A hot Observable that remains stable across reconnects. Multiple subscribers share the
same underlying STOMP subscription.</li>
</ul>
<p>Maps to: <a href="../classes/Client.html#subscribe">Client#subscribe</a></p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>opts</td>
                                    <td>
                                                <code><a href="../interfaces/IWatchParams.html" target="_self" >IWatchParams</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IMessage.html" target="_self" >Observable&lt;IMessage&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="watch"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>watch</b></span>
                        <a href="#watch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>watch(destination: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers?: <a href="../classes/StompHeaders.html" target="_self">StompHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="502"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:502</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>See the other overload for details.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>destination</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Destination to subscribe to</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>Optional subscription headers</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IMessage.html" target="_self" >Observable&lt;IMessage&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="watch"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>watch</b></span>
                        <a href="#watch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>watch(opts: <a href="../interfaces/IWatchParams.html" target="_self">string | IWatchParams</a>, headers: <a href="../classes/StompHeaders.html" target="_self">StompHeaders</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="506"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:506</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>opts</td>
                                    <td>
                                                <code><a href="../interfaces/IWatchParams.html" target="_self" >string | IWatchParams</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>headers</td>
                                    <td>
                                                <code><a href="../classes/StompHeaders.html" target="_self" >StompHeaders</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IMessage.html" target="_self" >Observable&lt;IMessage&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="watchForReceipt"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>watchForReceipt</b></span>
                        <a href="#watchForReceipt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>watchForReceipt(receiptId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callback: (frame: <a href="../interfaces/IFrame.html">IFrame</a>) => void)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="613"
                            class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:613</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p><strong>Deprecated</strong> Please use <a href="asyncReceipt">asyncReceipt</a>.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>receiptId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>callback</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>





            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="stompClient"></a>
                        <span class="name"><b>stompClient</b><a href="#stompClient"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>stompClient()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="161" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:161</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Instance of actual
<a href="https://github.com/stomp-js/stompjs">@stomp/stompjs</a>
<a href="../classes/Client.html">Client</a>.</p>
<p><strong>Be careful in calling methods on it directly - you may get unintended consequences.</strong></p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="../classess/Client.html" target="_self" >Client</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="active"></a>
                        <span class="name"><b>active</b><a href="#active"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>active()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="386" class="link-to-prism">consolidated/rx-stomp/src/rx-stomp.ts:386</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>True if the client is ACTIVE — i.e., connected or attempting reconnection.</p>
<p>Maps to: <a href="../classes/Client.html#active">Client#active</a>.</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  BehaviorSubject,
  filter,
  firstValueFrom,
  Observable,
  Observer,
  share,
  Subject,
  Subscription,
  take,
} from &#x27;rxjs&#x27;;

import {
  Client,
  debugFnType,
  IFrame,
  IMessage,
  publishParams,
  StompConfig,
  StompHeaders,
  StompSubscription,
} from &#x27;@stomp/stompjs&#x27;;

import { RxStompConfig } from &#x27;./rx-stomp-config.js&#x27;;
import { IRxStompPublishParams } from &#x27;./i-rx-stomp-publish-params.js&#x27;;
import { RxStompState } from &#x27;./rx-stomp-state.js&#x27;;
import { IWatchParams } from &#x27;./i-watch-params.js&#x27;;

/**
 * Main RxJS-friendly STOMP client for browsers and Node.js.
 *
 * RxStomp wraps {@link Client} from @stomp/stompjs and exposes key interactions
 * (connection lifecycle, subscriptions, frames, and errors) as RxJS streams.
 *
 * What RxStomp adds:
 * - Simple, observable-based API for consuming messages.
 * - Connection lifecycle as BehaviorSubjects/Observables for easy UI binding.
 * - Transparent reconnection support (configurable through {@link RxStompConfig}).
 * - Convenience helpers for receipts and server headers.
 *
 * Typical lifecycle:
 * - Instantiate: &#x60;const rxStomp &#x3D; new RxStomp();&#x60;
 * - Configure: &#x60;rxStomp.configure({...});&#x60;
 * - Activate: &#x60;rxStomp.activate();&#x60;
 * - Consume: &#x60;rxStomp.watch({ destination: &#x27;/topic/foo&#x27; }).subscribe(...)&#x60;
 * - Publish: &#x60;rxStomp.publish({ destination: &#x27;/topic/foo&#x27;, body: &#x27;...&#x27; })&#x60;
 * - Deactivate when done: &#x60;await rxStomp.deactivate();&#x60;
 *
 * Notes:
 * - Except for &#x60;beforeConnect&#x60;, all callbacks from @stomp/stompjs are exposed
 *   as RxJS Subjects/Observables here.
 * - RxStomp tries to transparently handle connection failures.
 *
 * Part of &#x60;@stomp/rx-stomp&#x60;.
 */
export class RxStomp {
  /**
   * Connection state as a BehaviorSubject.
   *
   * - Emits immediately with the current state (initially &#x60;CLOSED&#x60;).
   * - Use this for binding UI widgets or guards based on connection status.
   * - State values are from {@link RxStompState}.
   */
  public readonly connectionState$: BehaviorSubject&lt;RxStompState&gt;;

  /**
   * Emits whenever a connection is established (including re-connections).
   *
   * - If already connected, it emits immediately on subscription.
   * - The emitted value is always &#x60;RxStompState.OPEN&#x60;.
   * - Useful as a trigger to (re)establish subscriptions or flush local queues.
   */
  public readonly connected$: Observable&lt;RxStompState&gt;;

  /**
   * These will be triggered before connectionState$ and connected$.
   * During reconnecting, it will allow subscriptions to be reinstated before sending
   * queued messages.
   */
  private _connectionStatePre$: BehaviorSubject&lt;RxStompState&gt;;
  private _connectedPre$: Observable&lt;RxStompState&gt;;

  /**
   * Provides headers from the most recent CONNECTED frame from the broker.
   *
   * - Emits on every successful (re)connection.
   * - If already connected, emits immediately on subscription.
   * - Typical headers include &#x60;server&#x60;, &#x60;session&#x60;, and negotiated &#x60;version&#x60;.
   */
  public readonly serverHeaders$: Observable&lt;StompHeaders&gt;;

  protected _serverHeadersBehaviourSubject$: BehaviorSubject&lt;null | StompHeaders&gt;;

  /**
   * Streams any unhandled MESSAGE frames.
   *
   * Use this to receive:
   * - (RabbitMQ specific) Messages delivered to temporary or auto-named queues.
   * - Stray messages arriving during unsubscribe processing.
   *
   * Emits raw {@link IMessage} instances.
   *
   * Maps to: [Client#onUnhandledMessage]{@link Client#onUnhandledMessage}.
   */
  public readonly unhandledMessage$: Subject&lt;IMessage&gt;;

  /**
   * Streams any unhandled non-MESSAGE, non-ERROR frames.
   *
   * Normally unused unless interacting with non-compliant brokers or testing.
   *
   * Emits raw {@link IFrame} instances.
   *
   * Maps to: [Client#onUnhandledFrame]{@link Client#onUnhandledFrame}.
   */
  public readonly unhandledFrame$: Subject&lt;IFrame&gt;;

  /**
   * Streams any RECEIPT frames that do not match a watcher set via asyncReceipt helpers.
   *
   * Prefer {@link asyncReceipt} patterns where possible; fall back to this for low-level needs.
   *
   * Emits raw {@link IFrame} instances.
   *
   * Maps to: [Client#onUnhandledReceipt]{@link Client#onUnhandledReceipt}.
   */
  public readonly unhandledReceipts$: Subject&lt;IFrame&gt;;

  /**
   * Streams all ERROR frames from the broker.
   *
   * Most brokers will close the connection after an ERROR frame.
   *
   * Emits raw {@link IFrame} instances.
   *
   * Maps to: [Client#onStompError]{@link Client#onStompError}.
   */
  public readonly stompErrors$: Subject&lt;IFrame&gt;;

  /**
   * Streams errors emitted by the underlying WebSocket.
   *
   * Emits a DOM {@link Event}.
   *
   * Maps to: [Client#onWebSocketError]{@link Client#onWebSocketError}.
   */
  public readonly webSocketErrors$: Subject&lt;Event&gt;;

  /**
   * Internal array to hold locally queued messages when STOMP broker is not connected.
   */
  protected _queuedMessages: publishParams[] &#x3D; [];

  /**
   * Instance of actual
   * [@stomp/stompjs]{@link https://github.com/stomp-js/stompjs}
   * {@link Client}.
   *
   * **Be careful in calling methods on it directly - you may get unintended consequences.**
   */
  get stompClient(): Client {
    return this._stompClient;
  }
  protected _stompClient: Client;

  /**
   * Before connect
   */
  protected _beforeConnect: (client: RxStomp) &#x3D;&gt; void | Promise&lt;void&gt;;

  /**
   * Correlate errors
   */
  protected _correlateErrors: (error: IFrame) &#x3D;&gt; string;

  /**
   * Will be assigned during configuration, no-op otherwise
   */
  protected _debug: debugFnType;

  /**
   * Constructor
   *
   * @param stompClient Optional existing {@link Client} to wrap. If omitted, a new instance
   * will be created internally.
   *
   * Tip: Injecting a pre-configured Client is useful for advanced customization or testing.
   */
  public constructor(stompClient?: Client) {
    this._stompClient &#x3D; stompClient ? stompClient : new Client();

    const noOp &#x3D; () &#x3D;&gt; {};

    // Before connect is no op by default
    this._beforeConnect &#x3D; noOp;

    // Correlate errors is falsey op by default
    this._correlateErrors &#x3D; () &#x3D;&gt; undefined;

    // debug is no-op by default
    this._debug &#x3D; noOp;

    // Initial state is CLOSED
    this._connectionStatePre$ &#x3D; new BehaviorSubject&lt;RxStompState&gt;(
      RxStompState.CLOSED,
    );

    this._connectedPre$ &#x3D; this._connectionStatePre$.pipe(
      filter((currentState: RxStompState) &#x3D;&gt; {
        return currentState &#x3D;&#x3D;&#x3D; RxStompState.OPEN;
      }),
    );

    // Initial state is CLOSED
    this.connectionState$ &#x3D; new BehaviorSubject&lt;RxStompState&gt;(
      RxStompState.CLOSED,
    );

    this.connected$ &#x3D; this.connectionState$.pipe(
      filter((currentState: RxStompState) &#x3D;&gt; {
        return currentState &#x3D;&#x3D;&#x3D; RxStompState.OPEN;
      }),
    );

    // Setup sending queuedMessages
    this.connected$.subscribe(() &#x3D;&gt; {
      this._sendQueuedMessages();
    });

    this._serverHeadersBehaviourSubject$ &#x3D;
      new BehaviorSubject&lt;null | StompHeaders&gt;(null);

    this.serverHeaders$ &#x3D; this._serverHeadersBehaviourSubject$.pipe(
      filter((headers: null | StompHeaders) &#x3D;&gt; {
        return headers !&#x3D;&#x3D; null;
      }),
    );

    this.stompErrors$ &#x3D; new Subject&lt;IFrame&gt;();
    this.unhandledMessage$ &#x3D; new Subject&lt;IMessage&gt;();
    this.unhandledReceipts$ &#x3D; new Subject&lt;IFrame&gt;();
    this.unhandledFrame$ &#x3D; new Subject&lt;IFrame&gt;();
    this.webSocketErrors$ &#x3D; new Subject&lt;Event&gt;();
  }

  /**
   * Apply configuration to the underlying STOMP client.
   *
   * - Safe to call multiple times; each call merges with existing configuration.
   * - &#x60;beforeConnect&#x60; and &#x60;correlateErrors&#x60; are handled by RxStomp and removed
   *   from the object passed to the underlying {@link Client}.
   * - Unless otherwise documented by @stomp/stompjs, most options take effect
   *   on the next (re)connection.
   *
   * Example:
   * &#x60;&#x60;&#x60;typescript
   * const rxStomp &#x3D; new RxStomp();
   * rxStomp.configure({
   *   brokerURL: &#x27;ws://127.0.0.1:15674/ws&#x27;,
   *   connectHeaders: {
   *     login: &#x27;guest&#x27;,
   *     passcode: &#x27;guest&#x27;
   *     },
   *   heartbeatIncoming: 0,
   *   heartbeatOutgoing: 20000,
   *   reconnectDelay: 200,
   *   debug: (msg) &#x3D;&gt; console.log(new Date(), msg),
   * });
   * rxStomp.activate();
   * &#x60;&#x60;&#x60;
   *
   * Maps to: [Client#configure]{@link Client#configure}.
   */
  public configure(rxStompConfig: RxStompConfig) {
    const stompConfig: RxStompConfig &#x3D; (Object as any).assign(
      {},
      rxStompConfig,
    );

    if (stompConfig.beforeConnect) {
      this._beforeConnect &#x3D; stompConfig.beforeConnect;
      delete stompConfig.beforeConnect;
    }

    if (stompConfig.correlateErrors) {
      this._correlateErrors &#x3D; stompConfig.correlateErrors;
      delete stompConfig.correlateErrors;
    }

    // RxStompConfig has subset of StompConfig fields
    this._stompClient.configure(stompConfig as unknown as StompConfig);
    if (stompConfig.debug) {
      this._debug &#x3D; stompConfig.debug;
    }
  }

  /**
   * Activate the client and initiate connection attempts.
   *
   * - Emits &#x60;CONNECTING&#x60; followed by &#x60;OPEN&#x60; on successful connect.
   * - Automatically reconnects, according to configuration.
   *
   * To stop auto-reconnect and close the connection, call {@link deactivate}.
   *
   * Maps to: [Client#activate]{@link Client#activate}.
   */
  public activate(): void {
    this._stompClient.configure({
      beforeConnect: async () &#x3D;&gt; {
        this._changeState(RxStompState.CONNECTING);

        // Call handler
        await this._beforeConnect(this);
      },
      onConnect: (frame: IFrame) &#x3D;&gt; {
        this._serverHeadersBehaviourSubject$.next(frame.headers);

        // Indicate our connected state to observers
        this._changeState(RxStompState.OPEN);
      },
      onStompError: (frame: IFrame) &#x3D;&gt; {
        // Trigger the frame subject
        this.stompErrors$.next(frame);
      },
      onWebSocketClose: () &#x3D;&gt; {
        this._changeState(RxStompState.CLOSED);
      },
      onUnhandledMessage: (message: IMessage) &#x3D;&gt; {
        this.unhandledMessage$.next(message);
      },
      onUnhandledReceipt: (frame: IFrame) &#x3D;&gt; {
        this.unhandledReceipts$.next(frame);
      },
      onUnhandledFrame: (frame: IFrame) &#x3D;&gt; {
        this.unhandledFrame$.next(frame);
      },
      onWebSocketError: (evt: Event) &#x3D;&gt; {
        this.webSocketErrors$.next(evt);
      },
    });

    // Attempt connection
    this._stompClient.activate();
  }

  /**
   * Gracefully disconnect (if connected) and stop auto-reconnect.
   *
   * Behavior:
   * - Emits &#x60;CLOSING&#x60; then &#x60;CLOSED&#x60;.
   * - If no active WebSocket exists, resolves immediately.
   * - If a WebSocket is active, resolves after it is properly closed.
   *
   * Experimental:
   * - &#x60;options.force &#x3D;&#x3D;&#x3D; true&#x60; immediately discards the underlying connection.
   *   See [Client#deactivate]{@link Client#deactivate}.
   *
   * You can call {@link activate} again after awa.
   *
   * Maps to: [Client#deactivate]{@link Client#deactivate}.
   */
  public async deactivate(options: { force?: boolean } &#x3D; {}): Promise&lt;void&gt; {
    this._changeState(RxStompState.CLOSING);

    // The promise will be resolved immediately if there is no active connection
    // otherwise, after it has successfully disconnected.
    await this._stompClient.deactivate(options);

    this._changeState(RxStompState.CLOSED);
  }

  /**
   * Whether the broker connection is currently OPEN.
   *
   * Equivalent to checking &#x60;connectionState$.value &#x3D;&#x3D;&#x3D; RxStompState.OPEN&#x60;.
   */
  public connected(): boolean {
    return this.connectionState$.getValue() &#x3D;&#x3D;&#x3D; RxStompState.OPEN;
  }

  /**
   * True if the client is ACTIVE — i.e., connected or attempting reconnection.
   *
   * Maps to: [Client#active]{@link Client#active}.
   */
  get active(): boolean {
    return this.stompClient.active;
  }

  /**
   * Publish a message to a destination on the broker.
   *
   * Destination semantics and supported headers are broker-specific; consult your broker’s docs
   * for naming conventions (queues, topics, exchanges) and header support.
   *
   * Payload
   * - Text: provide &#x60;body&#x60; as a string. Convert non-strings yourself (e.g., JSON.stringify).
   * - Binary: provide &#x60;binaryBody&#x60; as a Uint8Array and set an appropriate &#x60;content-type&#x60; header.
   *   Some brokers may require explicit configuration for binary frames.
   *
   * Frame sizing and content-length
   * - For text messages, a &#x60;content-length&#x60; header is added by default.
   *   Set &#x60;skipContentLengthHeader: true&#x60; to omit it for text frames.
   * - For binary messages, &#x60;content-length&#x60; is always included.
   *
   * Caution
   * - If a message body contains NULL octets and the &#x60;content-length&#x60; header is omitted,
   *   many brokers will report an error and disconnect.
   *
   * Offline/queueing behavior
   * - If not connected, messages are queued locally and sent upon reconnection.
   * - To disable this behavior, set &#x60;retryIfDisconnected: false&#x60; in the parameters.
   *   In that case, this method throws if it cannot send immediately.
   *
   * Related
   * - Broker acknowledgment (receipt) can be tracked using &#x60;receipt&#x60; headers together with {@link asyncReceipt}.
   *
   * Maps to: [Client#publish]{@link Client#publish}
   *
   * See: {@link IRxStompPublishParams} and {@link IPublishParams}
   *
   * Examples:
   * &#x60;&#x60;&#x60;javascript
   * // Text with custom headers
   * rxStomp.publish({ destination: &quot;/queue/test&quot;, headers: { priority: 9 }, body: &quot;Hello, STOMP&quot; });
   *
   * // Minimal (destination is required)
   * rxStomp.publish({ destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot; });
   *
   * // Skip content-length header for text
   * rxStomp.publish({ destination: &quot;/queue/test&quot;, body: &quot;Hello, STOMP&quot;, skipContentLengthHeader: true });
   *
   * // Binary payload
   * const binaryData &#x3D; generateBinaryData(); // Uint8Array
   * rxStomp.publish({
   *   destination: &quot;/topic/special&quot;,
   *   binaryBody: binaryData,
   *   headers: { &quot;content-type&quot;: &quot;application/octet-stream&quot; }
   * });
   * &#x60;&#x60;&#x60;
   */
  public publish(parameters: IRxStompPublishParams): void {
    // retry behaviour is defaulted to true
    const shouldRetry &#x3D;
      parameters.retryIfDisconnected &#x3D;&#x3D; null
        ? true
        : parameters.retryIfDisconnected;

    if (this.connected()) {
      this._stompClient.publish(parameters);
    } else if (shouldRetry) {
      this._debug(&#x60;Not connected, queueing&#x60;);
      this._queuedMessages.push(parameters);
    } else {
      throw new Error(&#x27;Cannot publish while broker is not connected&#x27;);
    }
  }

  /** It will send queued messages. */
  protected _sendQueuedMessages(): void {
    const queuedMessages &#x3D; this._queuedMessages;
    this._queuedMessages &#x3D; [];

    if (queuedMessages.length &#x3D;&#x3D;&#x3D; 0) {
      return;
    }

    this._debug(&#x60;Will try sending  ${queuedMessages.length} queued message(s)&#x60;);

    for (const queuedMessage of queuedMessages) {
      this._debug(&#x60;Attempting to send ${queuedMessage}&#x60;);
      this.publish(queuedMessage);
    }
  }

  /**
   * Subscribe to a destination and receive messages as an RxJS Observable.
   *
   * Connection resilience
   * - Safe to call when disconnected; it will subscribe upon the next connection.
   * - On reconnect, it re-subscribes automatically to the same destination unless
   *   &#x60;subscribeOnlyOnce: true&#x60; is specified.
   * - Messages may be missed during broker-side reconnect windows (typical for STOMP brokers).
   *
   * Options
   * - Provide an {@link IWatchParams} object to set subscription (&#x60;subHeaders&#x60;) and unsubscription
   *   (&#x60;unsubHeaders&#x60;) headers, and to control resubscription behavior (&#x60;subscribeOnlyOnce&#x60;).
   *
   * Returns
   * - A hot Observable that remains stable across reconnects. Multiple subscribers share the
   *   same underlying STOMP subscription.
   *
   * Maps to: [Client#subscribe]{@link Client#subscribe}
   */
  public watch(opts: IWatchParams): Observable&lt;IMessage&gt;;
  /**
   * See the other overload for details.
   *
   * @param destination Destination to subscribe to
   * @param headers Optional subscription headers
   */
  public watch(
    destination: string,
    headers?: StompHeaders,
  ): Observable&lt;IMessage&gt;;
  public watch(
    opts: string | IWatchParams,
    headers: StompHeaders &#x3D; {},
  ): Observable&lt;IMessage&gt; {
    const defaults: IWatchParams &#x3D; {
      subHeaders: {},
      unsubHeaders: {},
      subscribeOnlyOnce: false,
    };

    let params: IWatchParams;

    if (typeof opts &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
      params &#x3D; Object.assign({}, defaults, {
        destination: opts,
        subHeaders: headers,
      });
    } else {
      params &#x3D; Object.assign({}, defaults, opts);
    }

    /* Well, the logic is complicated but works beautifully. RxJS is indeed wonderful.
     *
     * We need to activate the underlying subscription immediately if Stomp is connected. If not, it should
     * subscribe when it gets next connected. Further, it should re-establish the subscription whenever Stomp
     * successfully reconnects.
     *
     * Actual implementation is simple, we filter the BehaviourSubject &#x27;state&#x27; so that we can trigger whenever Stomp is
     * connected. Since &#x27;state&#x27; is a BehaviourSubject, if Stomp is already connected, it will immediately trigger.
     *
     * The observable that we return to the caller remains the same across all reconnects, so no special handling needed at
     * the message subscriber.
     */
    this._debug(&#x60;Request to subscribe ${params.destination}&#x60;);

    const coldObservable &#x3D; Observable.create((messages: Observer&lt;IMessage&gt;) &#x3D;&gt; {
      /*
       * These variables will be used as part of the closure and work their magic during unsubscribe
       */
      let stompSubscription: StompSubscription; // Stomp

      let stompConnectedSubscription: Subscription; // RxJS

      let connectedPre$ &#x3D; this._connectedPre$;

      if (params.subscribeOnlyOnce) {
        connectedPre$ &#x3D; connectedPre$.pipe(take(1));
      }

      const stompErrorsSubscription &#x3D; this.stompErrors$.subscribe(
        (error: IFrame) &#x3D;&gt; {
          const correlatedDestination &#x3D; this._correlateErrors(error);
          if (correlatedDestination &#x3D;&#x3D;&#x3D; params.destination) {
            messages.error(error);
          }
        },
      );

      stompConnectedSubscription &#x3D; connectedPre$.subscribe(() &#x3D;&gt; {
        this._debug(&#x60;Will subscribe to ${params.destination}&#x60;);
        let subHeaders &#x3D; params.subHeaders;
        if (typeof subHeaders &#x3D;&#x3D;&#x3D; &#x27;function&#x27;) {
          subHeaders &#x3D; subHeaders();
        }
        stompSubscription &#x3D; this._stompClient.subscribe(
          params.destination,
          (message: IMessage) &#x3D;&gt; {
            messages.next(message);
          },
          subHeaders,
        );
      });

      return () &#x3D;&gt; {
        /* cleanup function, it will be called when no subscribers are left */
        this._debug(
          &#x60;Stop watching connection state (for ${params.destination})&#x60;,
        );
        stompConnectedSubscription.unsubscribe();
        stompErrorsSubscription.unsubscribe();

        if (this.connected()) {
          this._debug(&#x60;Will unsubscribe from ${params.destination} at Stomp&#x60;);
          let unsubHeaders &#x3D; params.unsubHeaders;
          if (typeof unsubHeaders &#x3D;&#x3D;&#x3D; &#x27;function&#x27;) {
            unsubHeaders &#x3D; unsubHeaders();
          }
          stompSubscription.unsubscribe(unsubHeaders);
        } else {
          this._debug(
            &#x60;Stomp not connected, no need to unsubscribe from ${params.destination} at Stomp&#x60;,
          );
        }
      };
    });

    /**
     * Important - convert it to hot Observable - otherwise, if the user code subscribes
     * to this observable twice, it will subscribe twice to Stomp broker. (This was happening in the current example).
     * A long but good explanatory article at https://medium.com/@benlesh/hot-vs-cold-observables-f8094ed53339
     */
    return coldObservable.pipe(share());
  }

  /**
   * **Deprecated** Please use {@link asyncReceipt}.
   */
  public watchForReceipt(
    receiptId: string,
    callback: (frame: IFrame) &#x3D;&gt; void,
  ): void {
    this._stompClient.watchForReceipt(receiptId, callback);
  }

  /**
   * Wait for a broker RECEIPT matching the provided receipt-id.
   *
   * How it works
   * - To request an acknowledgment for an operation (e.g., publish, subscribe, unsubscribe),
   *   include a &#x60;receipt&#x60; header in that operation with a unique value.
   * - A compliant broker will respond with a &#x60;RECEIPT&#x60; frame whose &#x60;receipt-id&#x60; header equals
   *   the value you sent in the &#x60;receipt&#x60; header.
   * - This method returns a Promise that resolves with the matching {@link IFrame} when the
   *   corresponding &#x60;RECEIPT&#x60; arrives.
   *
   * Receipt identifiers
   * - Must be unique per request; generating a UUID or monotonic sequence is typical.
   *
   * Notes
   * - The Promise resolves once for the first matching receipt and then completes.
   * - No timeout is enforced by default; to add one, wrap with your own timeout logic (e.g., Promise.race).
   *
   * Example:
   * &#x60;&#x60;&#x60;javascript
   * // Publish with receipt tracking
   * const receiptId &#x3D; randomText();
   * rxStomp.publish({
   *   destination: &quot;/topic/special&quot;,
   *   headers: { receipt: receiptId },
   *   body: msg
   * });
   * const receiptFrame &#x3D; await rxStomp.asyncReceipt(receiptId); // resolves with the RECEIPT frame
   * &#x60;&#x60;&#x60;
   *
   * Maps to: [Client#watchForReceipt]{@link Client#watchForReceipt}
   */
  public asyncReceipt(receiptId: string): Promise&lt;IFrame&gt; {
    return firstValueFrom(
      this.unhandledReceipts$.pipe(
        filter(frame &#x3D;&gt; frame.headers[&#x27;receipt-id&#x27;] &#x3D;&#x3D;&#x3D; receiptId),
      ),
    );
  }

  protected _changeState(state: RxStompState): void {
    this._connectionStatePre$.next(state);
    this.connectionState$.next(state);
  }
}
</code></pre>
    </div>
</div>









                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'RxStomp.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
